<!DOCTYPE html>
<html class="light" lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>AI Social Studio</title>
  <meta name="description" content="Describe your idea, and we'll craft the caption, hashtags, and visuals">
  <link rel="icon" href="/static/favicon.ico" sizes="any">
  <link rel="apple-touch-icon" href="/static/apple-touch-icon.png">
  <meta name="theme-color" content="#ffffff">
  <script src="/static/tailwind.js"></script>
  <script src="/static/lucide.js"></script>
  <link href="https://fonts.googleapis.com" rel="preconnect"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/static/PostAi.css">
  <link rel="stylesheet" href="/static/Nav.css">
  <link rel="stylesheet" href="/static/Scheduled.css">
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          fontFamily: {
            sans: ["Inter", "system-ui", "sans-serif"],
            display: ["Inter", "system-ui", "sans-serif"],
          },
          rotate: {
            '360': '360deg', 
          },
          colors: {
            slate: {
                850: '#1e293b',
            }
          },
          animation: {
              'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
          }
        },
      },
    }
  </script>
  <style>

    .shimmer-text-rfx {
        background: linear-gradient(to right, #1f2937 0%, #9ca3af 50%, #1f2937 100%);
        background-size: 200% auto;
        color: #000;
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: shimmerTRfx 3s linear infinite;
        font-weight: 500;
    }
  
    @keyframes shimmerTRfx {
        0% { background-position: 0% center; }
        100% { background-position: 200% center; }
    }

.markdown-body p::-webkit-scrollbar {
    display: none; 
}

.loading-spinner-Vds {
    border: 2px solid rgba(0, 0, 0, 0.1);
    border-radius: 50%;
    border-top: 2px solid #000000;
    width: 18px;
    height: 18px;
    animation: spinVds 0.8s linear infinite;
}
@keyframes spinVds {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

input[type="color"] {
    -webkit-appearance: none;
    appearance: initial;
    border: 1px solid #e5e7eb;
    padding: 2px;
    border-radius: 0.375rem;
    background: white;
}
input[type="color"]::-webkit-color-swatch-wrapper { padding: 0; }
input[type="color"]::-webkit-color-swatch { border: none; border-radius: 0.25rem; }

.product-images-gallery {
    display: flex;
    gap: 10px;
    overflow: hidden;             
    max-width: 100%;
    position: relative;
    -ms-overflow-style: none;
    scrollbar-width: none;
    margin-bottom: 30px;
  }
  
  .product-images-gallery::-webkit-scrollbar {
    display: none;
  }
  
  .product-image-wrapper {
    flex: 0 0 auto;
  }
  
  .product-image-wrapper img {
    width: 150px;
    height: 150px;
    object-fit: fill;
    border-radius: 15px;
    background: #ececec;
    position: relative;
    overflow: hidden; 
    flex-shrink: 0;
  }

  .product-images-gallery .gallery-inner {
    display: flex;
    gap: 30px;
    animation: autoScroll 20s linear infinite;
    will-change: transform;
  }

  @keyframes autoScroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(calc(-100% - 10px));
    }
  }

  .product-images-gallery:hover .gallery-inner {
    animation-play-state: paused;
  }
.product-image-wrapper {
    flex: 0 0 auto;         
}

.product-image-wrappe img::before {
    content: '';
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 255, 255, 0.4) 50%, 
        transparent 100%);
    background-size: 50% 100%;
    animation: shimmerRfx 1.5s linear infinite;
    transform: translateX(-100%);
}


@keyframes shimmerRfx {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

  ::-webkit-scrollbar { width: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 4px; }
  ::-webkit-scrollbar-thumb:hover { background: #9ca3af; }

  .icon-input-wrapper { position: relative; }
  .icon-input-wrapper svg {
      position: absolute;
      left: 13px;
      top: 23px;
      transform: translateY(-50%);
      color: #6b7280;
      pointer-events: none;
  }
  .icon-input-wrapper input, .icon-input-wrapper textarea, .icon-input-wrapper select {
      padding-left: 40px; /* Space for icon */
  }

  /* Transition for collapsible content */
  .collapse-content {
      transition: all 0.3s ease-in-out;
      overflow: hidden;
  }
  .chevron-icon {
      transition: transform 0.3s ease;
  }
  .rotate-180 {
      transform: rotate(180deg);
  }
    .ease-elastic {
      transition-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .ease-smooth {
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    }
    .skeletonPlatform-loader {
      background: linear-gradient(90deg,
        rgba(240, 240, 240, 0) 0%,
        rgba(240, 240, 240, 0.8) 50%,
        rgba(240, 240, 240, 0) 100%
      );
      background-size: 200% 100%;
      animation: skeletonPlatform-loading 1.8s ease-in-out infinite;
    }

    .markdown-body h1 { font-size: 1.5em; font-weight: 700; margin-top: 1em; margin-bottom: 0.5em; color: #111827; }
    .markdown-body h2 { font-size: 1.25em; font-weight: 600; margin-top: 1em; margin-bottom: 0.5em; color: #374151; }
    .markdown-body h3 { font-size: 1.1em; font-weight: 600; margin-top: 1em; margin-bottom: 0.5em; }
    .markdown-body p { margin-bottom: 1em; line-height: 1.7; color: #4B5563; }
    .markdown-body ul { list-style-type: disc; padding-left: 1.5em; margin-bottom: 1em; }
    .markdown-body ol { list-style-type: decimal; padding-left: 1.5em; margin-bottom: 1em; }
    .markdown-body li { margin-bottom: 0.25em; }
    .markdown-body strong { font-weight: 600; color: #111827; }
    .markdown-body em { font-style: italic; color: #4B5563; }
    .markdown-body blockquote { border-left: 4px solid #E5E7EB; padding-left: 1em; color: #6B7280; font-style: italic; }
    
    /* Smooth fade in for content */
    .fade-in { animation: fadeIn 0.5s ease-in; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  
    @keyframes skeletonPlatform-loading {
      0%   { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
  
    .skeletonPlatform-line {
      @apply h-4 bg-gray-200 rounded;
    }
  
    dialog::backdrop {
      @apply bg-black/50;
    }
  </style>
  <style>
    :root {
  
        --bg-body: #eef2f5; 
        --bg-app: #ffffff;
        --text-main: #1d1d1f; 
        --text-muted: #86868b;
        --accent: #0071e3; 
        --pill-color: #dddddde5; 
        --card-bg: #f2f2f7;
        --shadow-soft: 0 10px 40px rgba(0,0,0,0.08); 
    }


    body, html {
      font-family: "Plus Jakarta Sans", "system-ui", "sans-serif";
      font-feature-settings: "cv11", "ss01";
      font-weight: 400;
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at 50% 50%, #ffffff 0%, #eef1f5 100%);
      height: 100vh;
      overflow: hidden;
      color: var(--text-main);
      width: 100%;
    }


</style>
</head>
<body class="bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 min-h-screen flex flex-col transition-colors duration-200">
  <div class="app-container w-full">
    <nav class="nav-header">
      <div class="flex h-16 w-full items-center shadow-[0px_20px_20px_8px_white]">
          
          <div class="items-center gap-1.5 w-1/4 logo-sec">
            <div class="rounded-lg hover:scale-110 ">
                <svg width="26" height="26" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="text-slate-900" ><path d="M12,22.24a1,1,0,0,1-.5-.14l-8-4.62a1,1,0,0,1-.5-.86V7.38a1,1,0,0,1,.5-.86l8-4.62a1,1,0,0,1,1,0l8,4.62a1,1,0,0,1,.5.86v9.24a1,1,0,0,1-.5.86l-8,4.62A1,1,0,0,1,12,22.24ZM5,16l7,4,7-4V8l-7-4L5,8Z"/><path d="M12,19a1,1,0,0,1-1-1V12a1,1,0,0,1,.49-.86l5-3a1,1,0,0,1,1,1.72L13,12.57V18A1,1,0,0,1,12,19Z"/> <path d="M12,13a1,1,0,0,1-.51-.14l-5-3a1,1,0,0,1,1-1.72l5,3A1,1,0,0,1,12,13Z"/></svg>
            </div>
              <span class="font-semibold text-lg tracking-tight text-slate-900 dark:text-white ">AI SocialStudio</span>
          </div>
          
          <div class="flex-grow flex justify-center">
            <ul class="nav-list">
                <div class="nav-pill"></div>
                <li class="pill-nav-item active" data-index="0">
                    <span class="nav-text">Poster</span>
                    <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="3" y1="9" x2="21" y2="9"></line>
                        <line x1="9" y1="21" x2="9" y2="9"></line>
                    </svg> 
                </li>
                <li class="pill-nav-item" data-index="1">
                    <span class="nav-text">MediaSnag</span>
                    <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                </li>
                <li class="pill-nav-item" data-index="2">
                    <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                    <span class="nav-text">Research</span>
                </li>
                <li class="pill-nav-item" data-index="3">
                    <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
                    </svg>
                    <span class="nav-text">Remix</span>
                </li>
                <li class="pill-nav-item" data-index="4">
                    <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                        <line x1="8" y1="21" x2="16" y2="21"></line>
                        <line x1="12" y1="17" x2="12" y2="21"></line>
                    </svg>
                    <span class="nav-text">Vidforge</span>
                </li>
            </ul>
          </div>
          
          
          <div class="items-center justify-end gap-2 w-1/4 toolsmn">
            <a href="/canvas" title="Design Studio">
                <button class="group flex items-center gap-0 hover:gap-2 p-2 rounded-lg text-gray-600 hover:text-slate-600 dark:text-slate-400 dark:hover:text-slate-400 transition-all duration-300 ease-in-out">
                  <span class="max-w-0 overflow-hidden whitespace-nowrap text-sm font-medium transition-all duration-300 ease-in-out group-hover:max-w-[120px]">
                    DesignStudio
                  </span>
                  <svg width="20" height="20" viewBox="0 -2 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-140.000000, -7601.000000)" fill="currentColor"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M102.8695,7446.25504 C101.3625,7444.73916 98.9185,7444.73916 97.4115,7446.25504 L91.2705,7452.43224 C90.8935,7452.81045 90.8935,7453.42505 91.2705,7453.80428 C91.6475,7454.1835 92.2585,7454.1835 92.6355,7453.80428 L98.7755,7447.62809 C99.5285,7446.86964 100.7515,7446.86964 101.5045,7447.62809 C102.2585,7448.38552 102.2585,7449.61473 101.5045,7450.37317 L95.4825,7456.43066 C96.2355,7457.1881 97.4575,7457.1881 98.2115,7456.43066 L102.8695,7451.74521 C104.3765,7450.22933 104.3765,7447.77092 102.8695,7446.25504 M100.8225,7448.31411 C100.4455,7447.93488 99.8345,7447.93488 99.4575,7448.31411 L93.3175,7454.49029 C92.5635,7455.24874 91.3415,7455.24874 90.5885,7454.49029 C90.2115,7454.11107 89.6005,7454.11107 89.2235,7454.49029 C88.8465,7454.86952 88.8465,7455.48412 89.2235,7455.86233 C90.7305,7457.37922 93.1745,7457.37922 94.6825,7455.86233 L100.8225,7449.68615 C101.1995,7449.30793 101.1995,7448.69232 100.8225,7448.31411 M98.7755,7442.13691 C97.2685,7440.62103 94.8245,7440.62103 93.3175,7442.13691 L87.1765,7448.31411 C86.8005,7448.69232 86.8005,7449.30793 87.1765,7449.68615 C87.5535,7450.06537 88.1645,7450.06537 88.5415,7449.68615 L94.6825,7443.50996 C95.4355,7442.75151 96.6575,7442.75151 97.4105,7443.50996 C97.7875,7443.88918 98.3985,7443.88918 98.7755,7443.50996 C99.1525,7443.13073 99.1525,7442.51613 98.7755,7442.13691 M96.7285,7444.19598 C96.3515,7443.81675 95.7405,7443.81675 95.3645,7444.19598 L89.2235,7450.37317 C88.4695,7451.13061 87.2485,7451.13061 86.4945,7450.37317 C85.7405,7449.61473 85.7405,7448.38552 86.4945,7447.62708 L92.5175,7441.56959 C91.7635,7440.81114 90.5415,7440.81114 89.7875,7441.56959 L85.1295,7446.25504 C83.6235,7447.77092 83.6235,7450.22933 85.1295,7451.74521 C86.6375,7453.2621 89.0805,7453.2621 90.5885,7451.74521 L96.7285,7445.56902 C97.1055,7445.1898 97.1055,7444.5752 96.7285,7444.19598" id="squarespace-[#132]"></path></g></g></g></svg>
                </button>
              </a>
            <a href="/setting" title="Settings">
              <button class="group flex items-center gap-0 hover:gap-2 p-2 rounded-lg text-gray-600 hover:text-slate-600 dark:text-slate-400 dark:hover:text-slate-400 transition-all duration-300 ease-in-out">
                <span class="max-w-0 overflow-hidden whitespace-nowrap text-sm font-medium transition-all duration-300 ease-in-out group-hover:max-w-[80px]">
                  Settings
                </span>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
              </button>
            </a>
            <form action="/logout" method="POST" class="inline">
              <button class="group flex items-center gap-0 hover:gap-2 p-2 rounded-lg text-gray-600 hover:text-red-600 dark:text-slate-400 dark:hover:text-red-400 transition-all duration-300 ease-in-out">
                <span class="max-w-0 overflow-hidden whitespace-nowrap text-sm font-medium transition-all duration-300 ease-in-out group-hover:max-w-[80px]">
                  Logout
                </span>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
              </button>
            </form>
          </div>
          
          
      </div>
  </nav>

    <div class="viewport">
        <div class="content-track">
            
            <div class="tab-content">
              
                <main class="flex-grow w-full max-w-7xl  mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-12">
                  
                    <section class="max-w-[65rem] mx-auto px-4 sm:px-6 lg:px-8" id="Section1">
                        <div class="text-center mb-8">
                            <h1 class="text-2xl sm:text-3xl md:text-4xl font-semibold tracking-tight text-slate-900 dark:text-white mb-3">
                                What would you like to post today?
                            </h1>
                            <p class="text-gray-600 dark:text-slate-400 text-base sm:text-lg px-4 sm:px-0">
                                Describe your idea, and we'll craft the caption, hashtags, and visuals.
                            </p>
                        </div>
                    
                        <div id="OutergenerateForm" class="bg-white dark:bg-slate-800 rounded-3xl border border-slate-200 dark:border-slate-700 p-1 transition-transform duration-300 ease-out has-[:focus]:scale-105">
                            <form id="generateForm" class="p-4 sm:p-6 space-y-4">
                                <div class="relative">
                                    <textarea name="prompt" rows="3" required id="animatedPlaceholder" 
                                        class="block w-full rounded-2xl border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 text-slate-900 dark:text-white shadow-sm focus:border-gray-500 focus:ring-gray-500 text-base px-4 py-3 transition resize-none placeholder:text-slate-400" 
                                        placeholder="">
                                    </textarea>
                                </div>
                                
                                <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 pt-2">
                                    <div class="flex flex-col sm:flex-row flex-wrap items-start sm:items-center gap-4 w-full sm:w-auto">
                                        
                                        <label for="imgToggle" title="Click to generate image prompt" 
                                            class="flex items-center space-x-2 p-[7px] text-sm font-medium transition duration-150 cursor-pointer select-none">
                                            <span class="text-sm font-medium text-slate-700 dark:text-slate-300">
                                                Image Prompt
                                            </span>
                                            <div class="relative ml-3">
                                                <input type="checkbox" id="imgToggle" name="generate_image" value="yes" class="sr-only peer" checked>
                                                <div class="w-11 h-6 bg-gray-300 rounded-full transition peer-checked:bg-gray-800 dark:bg-slate-700"></div>
                                                <div class="absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition 
                                                      peer-checked:translate-x-5 shadow"></div>
                                            </div>
                                        </label>
                        
                                        <div id="imageStyleContainer" class="hidden peer-checked:flex items-center w-full sm:w-auto">
                                            <select name="image_style" id="imageStyle" 
                                                class="w-full sm:min-w-[110px] hover:ring-0 rounded-full dark:bg-slate-700 border border-slate-200 dark:border-slate-600 py-2 px-3 text-sm font-medium transition duration-150">
                                                <option value="realistic">Realistic</option>
                                                <option value="cinematic">Cinematic</option>
                                                <option value="cartoon">Cartoon</option>
                                                <option value="illustration">Illustration</option>
                                                <option value="digital_art">Digital Art</option>
                                                <option value="anime">Anime</option>
                                                <option value="minimalist">Minimalist</option>
                                                <option value="vintage">Vintage</option>
                                            </select>
                                        </div>
                        
                                        <div class="flex items-center gap-2 w-full sm:w-auto">
                                            
                                            <div id="numDraftsCount" class="flex items-center space-x-2 rounded-full dark:bg-slate-700 border border-slate-200 dark:border-slate-600 p-[6px] text-sm font-medium transition duration-150 w-full sm:w-auto ml-2">
                                                <button type="button" id="prevDraftCountBtn" title="Previous Draft Count"
                                                    class="text-slate-700 dark:text-slate-200 hover:text-gray-900 dark:hover:text-white disabled:opacity-50 transition p-2 touch-manipulation">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
                                                </button>
                                
                                                <span id="currentDraftText" class="text-slate-700 dark:text-slate-200 whitespace-nowrap px-1 text-center flex-1 min-w-0">
                                                    1
                                                </span>
                                
                                                <button type="button" id="nextDraftCountBtn" title="Next Draft Count"
                                                    class="text-slate-700 dark:text-slate-200 hover:text-gray-900 dark:hover:text-white disabled:opacity-50 transition p-2 touch-manipulation">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>
                                                </button>
                                                <input type="hidden" name="num_drafts" id="hiddennumDraftsCount" value="1">
                                            </div>
                                        </div>
                            
                                        <div id="useCaseCarouselDrf" class="flex items-center space-x-2 rounded-full dark:bg-slate-700 border border-slate-200 dark:border-slate-600 p-[6px] text-sm font-medium transition duration-150 w-full sm:w-auto">
                                            <button type="button" id="prevCaseBtnDrf" title="Previous Use Case"
                                                class="text-slate-700 dark:text-slate-200 hover:text-gray-900 dark:hover:text-white disabled:opacity-50 transition p-2 touch-manipulation">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
                                            </button>
                        
                                            <span id="currentCaseTextDrf" class="text-slate-700 dark:text-slate-200 whitespace-nowrap px-4 text-center flex-1 min-w-0">
                                                Custom Idea
                                            </span>
                        
                                            <button type="button" id="nextCaseBtnDrf" title="Next Use Case"
                                                class="text-slate-700 dark:text-slate-200 hover:text-gray-900 dark:hover:text-white disabled:opacity-50 transition p-2 touch-manipulation">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>
                                            </button>
                                        </div>
                                    </div>
                        
                                    <button type="submit" id="genBtnBtn"
                                        class="shiny-button w-full sm:w-auto inline-flex items-center justify-center rounded-xl bg-gray-800 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-gray-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-600 transition-all duration-200">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"></path><line x1="16" y1="5" x2="22" y2="5"></line><line x1="19" y1="2" x2="19" y2="8"></line></svg>
                                        <span id="genBtnSpan" class="w-full">Generate Draft</span>
                                    </button>
                                </div>
                            </form>
                        
                            <script>
                                (function() {
                                    const draftOptions = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
                                    let currentDraftIndex = 0;
                        
                                    const currentDraftText = document.getElementById('currentDraftText');
                                    const hiddennumDraftsCount = document.getElementById('hiddennumDraftsCount');
                                    const prevDraftCountBtn = document.getElementById('prevDraftCountBtn');
                                    const nextDraftCountBtn = document.getElementById('nextDraftCountBtn');
                        
                                    function updateDraftDisplay() {
                                        currentDraftText.textContent = draftOptions[currentDraftIndex];
                                        hiddennumDraftsCount.value = draftOptions[currentDraftIndex];
                        
                                        prevDraftCountBtn.disabled = currentDraftIndex === 0;
                                        nextDraftCountBtn.disabled = currentDraftIndex === draftOptions.length - 1;
                                    }
                        
                                    prevDraftCountBtn.addEventListener('click', (e) => {
                                        if (currentDraftIndex > 0) {
                                            currentDraftIndex--;
                                            updateDraftDisplay();
                                        }
                                    });
                        
                                    nextDraftCountBtn.addEventListener('click', (e) => {
                                        if (currentDraftIndex < draftOptions.length - 1) {
                                            currentDraftIndex++;
                                            updateDraftDisplay();
                                        }
                                    });
                        
                                    updateDraftDisplay(); // Initialize
                                })();
                            </script>
                        </div>
                        
                        <div class="flex justify-center mt-6">
                            <button type="button" id="createBtnMnl" title="Draft a post from scratch without AI generation"
                                class="text-sm font-medium text-slate-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white transition duration-200 px-4 py-2 rounded-xl border border-transparent hover:border-slate-200 dark:hover:border-slate-700">
                                Prefer to draft a post manually?
                            </button>
                        </div>
                        
                        <div id="loading" class="hidden mt-8 text-center animate-pulse">
                            <div class="inline-flex items-center px-4 py-2 font-semibold leading-6 text-gray-600 transition ease-in-out duration-150 cursor-not-allowed">
                                <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-gray-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                                Crafting your post...
                            </div>
                        </div>
                    
                        <div id="preview" class="hidden mt-8 w-full bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden">
                        </div>
                    </section>
                

                    <section class="min-h-[20rem] py-6 sm:py-8">
                        <div class="flex flex-row sm:flex-row sm:items-center justify-between mb-6 gap-4 px-1">
                            <h2 class="text-2xl sm:text-3xl flex items-center font-semibold tracking-tight text-slate-900 dark:text-white">
                                <div class="mr-3">Recent Drafts</div>
                                <div id="draftCount" class="inline-flex items-center rounded-full bg-slate-100 dark:bg-slate-700 px-2.5 py-0.5 text-sm font-medium text-slate-800 dark:text-slate-300">
                                    0
                                </div>
                            </h2>
                    
                            <button onclick="loadDrafts()" class="refresh-button group p-2 rounded-xl bg-transparent sm:bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors">
                                <svg class="w-6 h-6 text-slate-600 dark:text-slate-300 transition-transform duration-500 ease-out group-hover:rotate-360" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423" stroke="currentColor" stroke-width="2"/>
                                    <path d="M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811" stroke="currentColor" stroke-width="2"/>
                                </svg>
                            </button>
                        </div>

                        <div id="draftsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="group relative flex flex-col bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden shadow-sm hover:shadow-lg transition-shadow duration-300 animate-pulse">
                                <div class="relative h-56 sm:h-64 w-full bg-gray-200 dark:bg-slate-700 skeletonPlatform-loader"></div>
                                <div class="flex flex-1 flex-col justify-between p-5 sm:p-6">
                                    <div>
                                        <div class="h-5 bg-gray-200 dark:bg-slate-700 rounded-md w-11/12 mb-3 skeletonPlatform-loader"></div>
                                        <div class="h-5 bg-gray-200 dark:bg-slate-700 rounded-md w-4/6 skeletonPlatform-loader"></div>
                                    </div>
                                    <div class="flex items-center justify-between mt-4 pt-4 border-t border-slate-100 dark:border-slate-700">
                                        <div class="h-4 bg-gray-200 dark:bg-slate-700 rounded w-20 skeletonPlatform-loader"></div>
                                        <div class="flex items-center gap-1.5">
                                            <div class="h-9 w-20 bg-gray-200 dark:bg-slate-700 rounded-xl skeletonPlatform-loader"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="group relative flex flex-col bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden shadow-sm hover:shadow-lg transition-shadow duration-300 animate-pulse">
                                <div class="relative h-56 sm:h-64 w-full bg-gray-200 dark:bg-slate-700 skeletonPlatform-loader"></div>
                                <div class="flex flex-1 flex-col justify-between p-5 sm:p-6">
                                    <div>
                                        <div class="h-5 bg-gray-200 dark:bg-slate-700 rounded-md w-11/12 mb-3 skeletonPlatform-loader"></div>
                                        <div class="h-5 bg-gray-200 dark:bg-slate-700 rounded-md w-4/6 skeletonPlatform-loader"></div>
                                    </div>
                                    <div class="flex items-center justify-between mt-4 pt-4 border-t border-slate-100 dark:border-slate-700">
                                        <div class="h-4 bg-gray-200 dark:bg-slate-700 rounded w-20 skeletonPlatform-loader"></div>
                                        <div class="flex items-center gap-1.5">
                                            <div class="h-9 w-20 bg-gray-200 dark:bg-slate-700 rounded-xl skeletonPlatform-loader"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="group relative flex flex-col bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden shadow-sm hover:shadow-lg transition-shadow duration-300 animate-pulse">
                                <div class="relative h-56 sm:h-64 w-full bg-gray-200 dark:bg-slate-700 skeletonPlatform-loader"></div>
                                <div class="flex flex-1 flex-col justify-between p-5 sm:p-6">
                                    <div>
                                        <div class="h-5 bg-gray-200 dark:bg-slate-700 rounded-md w-11/12 mb-3 skeletonPlatform-loader"></div>
                                        <div class="h-5 bg-gray-200 dark:bg-slate-700 rounded-md w-4/6 skeletonPlatform-loader"></div>
                                    </div>
                                    <div class="flex items-center justify-between mt-4 pt-4 border-t border-slate-100 dark:border-slate-700">
                                        <div class="h-4 bg-gray-200 dark:bg-slate-700 rounded w-20 skeletonPlatform-loader"></div>
                                        <div class="flex items-center gap-1.5">
                                            <div class="h-9 w-20 bg-gray-200 dark:bg-slate-700 rounded-xl skeletonPlatform-loader"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                    

                        </div>
                    
                        <!-- No Drafts State -->
                        <div id="noDrafts" class="hidden flex flex-col items-center justify-center py-20 text-center border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-2xl bg-slate-50/50 dark:bg-slate-800/50">
                            <div class="p-4 bg-slate-100 dark:bg-slate-700 rounded-full mb-5">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-slate-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold text-slate-900 dark:text-white">No drafts found</h3>
                            <p class="mt-2 text-sm text-slate-600 dark:text-slate-400 max-w-xs">Get started by generating your first post above.</p>
                        </div>
                    
                        <!-- Pagination -->
                        <div id="PaginBtns" class="flex flex-row sm:flex-row justify-center items-center mt-10 gap-4  hidden">
                            <button id="prevDrafts" 
                                    class="w-full sm:w-auto flex items-center justify-center px-6 py-3 text-sm font-semibold text-gray-700 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl shadow-md hover:bg-gray-50 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200"
                                    disabled>
                                <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.7071 4.29289C12.0976 4.68342 12.0976 5.31658 11.7071 5.70711L6.41421 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H6.41421L11.7071 18.2929C12.0976 18.6834 12.0976 19.3166 11.7071 19.7071C11.3166 20.0976 10.6834 20.0976 10.2929 19.7071L3.29289 12.7071C3.10536 12.5196 3 12.2652 3 12C3 11.7348 3.10536 11.4804 3.29289 11.2929L10.2929 4.29289C10.6834 3.90237 11.3166 3.90237 11.7071 4.29289Z" fill="currentColor"/>
                                </svg>
                                Newer Drafts
                            </button>
                    
                            <button id="nextDrafts" 
                                    class="w-full sm:w-auto flex items-center justify-center px-6 py-3 text-sm font-semibold text-white bg-gray-800 dark:bg-slate-600 rounded-xl shadow-md hover:bg-gray-900 dark:hover:bg-slate-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200">
                                Older Drafts 
                                <svg class="w-5 h-5 ml-2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.2929 4.29289C12.6834 3.90237 13.3166 3.90237 13.7071 4.29289L20.7071 11.2929C21.0976 11.6834 21.0976 12.3166 20.7071 12.7071L13.7071 19.7071C13.3166 20.0976 12.6834 20.0976 12.2929 19.7071C11.9024 19.3166 11.9024 18.6834 12.2929 18.2929L17.5858 13H4C3.44772 13 3 12.5523 3 12C3 11.4477 3.44772 11 4 11H17.5858L12.2929 5.70711C11.9024 5.31658 11.9024 4.68342 12.2929 4.29289Z" fill="currentColor"/>
                                </svg>
                            </button>
                        </div>
                    </section>


                  <section>

                    <div class="min-h-full py-8 px-4 sm:px-6 lg:px-8">
                      <div class="mx-auto max-w-7xl">
                          
                          <div class="flex md:flex md:items-center md:justify-between mb-6">
                              <div class="min-w-0 flex-1">
                                  <h2 class="text-2xl font-semibold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight">
                                      Approved Drafts
                                  </h2>
                                  <p class="mt-1 text-sm text-gray-500">Overview of all content approved for publication.</p>
                              </div>

                              <div>
                                <button onclick="fetchData()" class="group text-gray-600 hover:text-gray-500">
                                  <svg class="w-6 h-6 transition-transform duration-500 ease-out group-hover:rotate-360"  viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423" stroke="currentColor" stroke-width="2"/>
                                    <path d="M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811" stroke="currentColor" stroke-width="2"/>
                                    </svg>
                                </button>
                              </div>
                              

                          </div>
              
                          <div class="bg-white rounded-lg overflow-hidden">
                              
                              <div class="relative">
                                  
                                <div id="skeletonDraft" class="space-y-6">
                                  <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                                    <div class="h-14 bg-gray-50 skeletonPlatform-loader"></div>
                                    <div class="p-6 space-y-4">
                                      <div class="h-5 w-48 bg-gray-200 rounded skeletonPlatform-loader"></div>
                                      <div class="h-4 w-64 bg-gray-200 rounded skeletonPlatform-loader"></div>
                                      <div class="flex items-center gap-8">
                                        <div class="h-8 w-32 bg-gray-200 rounded-full skeletonPlatform-loader"></div>
                                        <div class="h-4 w-24 bg-gray-200 rounded skeletonPlatform-loader"></div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                  <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 overflow-hidden" >
                                  <table class="w-full text-sm text-left ">
                                      <thead class="bg-gray-50 ">
                                          <tr>
                                              <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-xs font-[400] uppercase tracking-wide text-gray-500 sm:pl-6">Title & Preview</th>
                                              <th scope="col" class="px-3 py-3.5 text-left text-xs font-[400] uppercase tracking-wide text-gray-500">Created At</th>
                                              <th scope="col" class="px-3 py-3.5 text-left text-xs font-[400] uppercase tracking-wide text-gray-500">Status</th>
                                              <th scope="col" class="relative py-3.5 pl-3 pr-4 sm:pr-6">
                                                  <span class="sr-only">View</span>
                                              </th>
                                          </tr>
                                      </thead>
                                        <tbody id="tableBody" class="divide-y divide-gray-200 bg-white">
                                    
                                        </tbody>
                                  </table>
                                </div>
              
                                  <div id="errorState" class="hidden flex flex-col items-center justify-center py-12 text-center text-red-600">
                                      <div><svg class="h-10 w-10 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></div>
                                      <div><p class="text-sm font-medium">Failed to load data.</p></div>
                                  </div>
              
                                  <div id="emptyState" class="hidden flex-col items-center justify-center py-16 text-center">
                                      <div class="rounded-full bg-gray-50 p-4 mb-3">
                                          <svg class="h-8 w-8 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4" /></svg>
                                      </div>
                                      <h3 class="mt-2 text-sm font-semibold text-gray-900">No approved drafts</h3>
                                      <p class="mt-1 text-sm text-gray-500">There are no tasks currently in this view.</p>
                                  </div>
                              </div>
              
                              <div class="flex items-center justify-between  bg-white px-4 py-3 sm:px-6">
                                  <div class="hidden sm:flex sm:flex-1 sm:items-center sm:justify-between">
                                      <div>
                                          <p class="text-sm text-gray-700">
                                              Showing <span class="font-medium" id="lblStart">0</span> to <span class="font-medium" id="lblEnd">0</span> of <span class="font-medium" id="lblTotal">0</span> results
                                          </p>
                                      </div>
                                      <div>
                                          <nav class="isolate inline-flex -space-x-px rounded-md shadow-sm" aria-label="Pagination">
                                              <button type="button" id="btnPrev" class="relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed">
                                                  <span class="sr-only">Previous</span>
                                                  <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                      <path fill-rule="evenodd" d="M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z" clip-rule="evenodd" />
                                                  </svg>
                                                  <span class="ml-1 text-sm font-medium">Prev</span>
                                              </button>
                                              <button type="button" id="btnNext" class="relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed">
                                                  <span class="mr-1 text-sm font-medium">Next</span>
                                                  <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                      <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                                  </svg>
                                              </button>
                                          </nav>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              
                  </section>

                  
                </main>
            </div>
            <div class="tab-content">

              <main class="flex-grow w-full max-w-7xl  mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-12">
                  
                <section class="max-w-3xl mx-auto" >
                  <div class="text-center mb-8">
                      <h1 class="text-3xl md:text-4xl font-semibold tracking-tight text-slate-900 dark:text-white mb-3">
                        What video would you like to download?
                      </h1>
                      <p class="text-gray-600 dark:text-slate-400 text-lg">
                        Paste a link from YouTube, Instagram, or TikTok, and we'll handle the rest.
                      </p>
                  </div>


                <div class="w-full max-w-3xl">
                  <form id="downloadFormYtb" class="relative group">
                    
                    <!-- Card Container -->
                    <div class="bg-white border border-slate-200 rounded-3xl shadow-card p-2 transition-shadow duration-300 hover:shadow-lg hover:border-slate-300">
                      
                      <!-- URL Input Area -->
                      <div class="p-4 bg-slate-50/50 rounded-2xl mb-2">
                        <textarea 
                          id="urlYtb" 
                          required
                          placeholder="Paste your video link here..." 
                          class="w-full h-24 bg-transparent border-none focus:ring-0 text-lg text-slate-800 placeholder-slate-400 resize-none p-2"
                        ></textarea>
                      </div>
              
                      <!-- Bottom Controls Bar -->
                      <div class="flex flex-col md:flex-row items-center justify-between px-4 pb-2 gap-4">
                        <div class="flex items-center gap-3">

                            <label for="audioOnlyYtb" title="Click to generate image prompt" class="flex items-center space-x-2  p-[7px]  text-sm font-medium transition duration-150 cursor-pointer select-none">
                              <span class=" text-sm font-medium text-slate-700 dark:text-slate-300">
                                Audio Only
                              </span>
                              <div class="relative ml-3">
                                  <input type="checkbox" id="audioOnlyYtb" name="audioOnly" value="no" class="sr-only peer">
                                  <div class="w-11 h-6 bg-gray-300 rounded-full transition peer-checked:bg-gray-800 dark:bg-slate-700"></div>
                                  <div class="absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition 
                                              peer-checked:translate-x-5 shadow"></div>
                              </div>
                            </label>

                          <div class="hidden md:block w-px h-6 bg-slate-200"></div>

                          <div class="relative w-full md:w-auto">
                            <select id="qualityYtb" class="appearance-none bg-white border border-slate-200 text-slate-700 text-sm font-medium py-2 pl-4 pr-10 rounded-full cursor-pointer hover:border-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-200 transition-all w-full md:w-auto">
                              <option value="best">Best Quality</option>
                              <option value="1080p">1080p HD</option>
                              <option value="720p">720p</option>
                              <option value="4k">4K Ultra</option>
                            </select>
                            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-slate-500">
                              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" class="w-4 h-4">
                                <path d="m212.24 100.24-80 80a6 6 0 0 1-8.48 0l-80-80a6 6 0 0 1 8.48-8.48L128 167.51l75.76-75.75a6 6 0 0 1 8.48 8.48Z"/>
                              </svg>
                            </div>
                          </div>
                        </div>
              
                        <!-- Submit Button -->
                        <button type="submit" 
                          id="submitBtnYtb"
                          class="w-full md:w-auto text-sm bg-[#0F172A] hover:bg-[#1E293B] text-white px-7 py-2 rounded-2xl font-semibold flex items-center justify-center gap-2 transition-transform active:scale-95 shadow-lg shadow-slate-900/10"
                        >
                          <i class="ph ph-download-simple text-lg"></i>
                          <span>Download</span>
                        </button>
              
                      </div>
                    </div>
                  </form>
              
                  <!-- Status & Results Area -->
                  <div class="mt-8 space-y-4">
                    <div id="statusYtb" class="hidden p-4 rounded-xl text-center text-sm font-medium animate-fade-in"></div>
                    <div id="downloadLinkYtb" class="flex justify-center"></div>
                  </div>
              
                  <!-- Footer Info -->
                  <div class="mt-12 text-center">
                    <div class="inline-flex gap-6 text-slate-400">
                      <i class="ph ph-youtube-logo text-2xl hover:text-red-500 transition"></i>
                      <i class="ph ph-instagram-logo text-2xl hover:text-pink-500 transition"></i>
                      <i class="ph ph-tiktok-logo text-2xl hover:text-black transition"></i>
                      <i class="ph ph-twitter-logo text-2xl hover:text-blue-400 transition"></i>
                    </div>
                  </div>
              
                </div>
              </section>
              </main>


            </div>

            <div class="tab-content">
                <main class="flex-grow w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-10 space-y-10 sm:space-y-12">
                    <section class="max-w-4xl mx-auto w-full">
                        <div class="text-center mb-8">
                            <h1 class="text-2xl sm:text-3xl md:text-4xl font-semibold tracking-tight text-slate-900 dark:text-white mb-3">
                                Product Intelligence
                            </h1>
                            <p class="text-gray-600 dark:text-slate-400 text-base sm:text-lg px-4 sm:px-0">
                                Enter a product and company to stream real-time sentiment analysis and review summaries.
                            </p>
                        </div>
                
                        <div class="bg-white dark:bg-slate-800 rounded-3xl border border-slate-200 dark:border-slate-700 p-4 sm:p-5 transition-shadow duration-300 hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)]">
                            <form id="reviewFormRes" class="relative">
                                <div class="relative group">
                                    <div class="absolute inset-y-0 left-4 flex items-center pointer-events-none">
                                        <svg class="w-5 h-5 text-slate-300 group-focus-within:text-gray-500 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                                        </svg>
                                    </div>
                                    <input
                                        type="text"
                                        id="productCompanyInputRes"
                                        placeholder="e.g., Whatai developed by AI Firelab"
                                        class="w-full pl-12 pr-4 py-5 sm:py-6 bg-transparent text-lg sm:text-xl text-slate-800 dark:text-white placeholder-slate-400 outline-none rounded-2xl focus:ring-2 focus:ring-slate-300 dark:focus:ring-slate-600 transition-all"
                                        autocomplete="off"
                                        required
                                    >
                                </div>
                
                                <div id="customFilterContainer" class="hidden p-4">
                                    <input 
                                        type="text" 
                                        id="customFilterInput" 
                                        placeholder="Filter criteria (e.g., 'Focus on battery life', 'Ignore shipping complaints')" 
                                        class="w-full px-4 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-slate-300 dark:focus:ring-slate-600 transition-all text-slate-700 dark:text-slate-200 placeholder-slate-400"
                                    >
                                </div>
                
                                <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 px-4 pb-4 pt-2 border-t border-slate-100 dark:border-slate-700 mt-4">
                                    <div class="flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full sm:w-auto">
                                        <!-- Deep Search Toggle -->
                                        <label class="flex items-center cursor-pointer group">
                                            <div class="relative">
                                                <input type="checkbox" id="deepSearchToggle" class="sr-only peer">
                                                <div class="w-9 h-5 bg-slate-200 dark:bg-slate-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-slate-900"></div>
                                            </div>
                                            <span class="ml-2 text-sm font-medium text-slate-500 dark:text-slate-400 group-hover:text-slate-700 dark:group-hover:text-slate-200 transition-colors">Deep Search</span>
                                        </label>
                
                                        <div class="hidden sm:block h-4 w-px bg-slate-200 dark:bg-slate-600"></div>
                
                                        <!-- Dropdown -->
                                        <div class="relative group w-full sm:w-auto">
                                            <button type="button" id="dropdown-trigger" class="w-full sm:w-[240px] flex items-center rounded-2xl justify-between bg-white dark:bg-slate-700 px-3 py-2.5 text-left transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-slate-300 dark:focus:ring-slate-600">
                                                <div class="flex items-center gap-3">
                                                    <div id="selected-icon-container" class="text-slate-500 dark:text-slate-400">
                                                    </div>
                                                    <span id="selected-labelFr" class="text-sm sm:text-md text-slate-500 dark:text-slate-300">Product Overview</span>
                                                </div>
                                                <div id="chevronFr" class="text-gray-400 ml-2 transition-transform duration-300">
                                                    <i data-lucide="chevron-down" class="w-5 h-5"></i>
                                                </div>
                                            </button>
                                            <div id="dropdown-menu" class="absolute left-0 right-0 sm:right-auto mt-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-2xl shadow-xl overflow-hidden z-20 hidden opacity-0 transform scale-95 transition-all duration-200 origin-top w-full sm:w-[240px]">
                                                <ul id="menu-listFr" class="p-1.5 space-y-1">
                                                </ul>
                                            </div>
                                        </div>
                
                                        <div class="hidden sm:block h-4 w-px bg-slate-200 dark:bg-slate-600"></div>
                
                                        <!-- Custom Filters Button -->
                                        <button type="button" id="customFilterToggle" class="flex items-center text-sm font-medium text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 transition-colors">
                                            <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                                            Custom Filters
                                        </button>
                                    </div>
                
                                    <!-- Submit Button -->
                                    <button
                                        type="submit"
                                        id="submitButtonRes"
                                        class="w-full sm:w-auto flex items-center justify-center px-6 py-3 bg-slate-900 dark:bg-slate-700 text-white text-sm font-medium rounded-xl hover:bg-slate-800 dark:hover:bg-slate-600 focus:ring-4 focus:ring-slate-300 dark:focus:ring-slate-600 transition-all transform active:scale-95 shadow-lg shadow-slate-900/10"
                                    >
                                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                                        Generate Report
                                    </button>
                                </div>
                            </form>
                        </div>
                
                        <div id="loadingIndicatorRes" class="hidden mt-8 text-center fade-in">
                            <div class="flex items-center justify-center space-x-2">
                                <div class="w-2 h-2 bg-gray-800 dark:bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0s"></div>
                                <div class="w-2 h-2 bg-gray-800 dark:bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                                <div class="w-2 h-2 bg-gray-800 dark:bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.4s"></div>
                            </div>
                            <p class="mt-3 text-sm text-slate-400 font-medium tracking-wide uppercase">Analysing Sentiment</p>
                        </div>
                
                        <div id="errorMessageRes" class="hidden mt-6 mx-auto max-w-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-xl text-sm text-center fade-in"></div>
                
                        <div id="clarificationContainer" class="hidden mt-6 mx-auto max-w-lg bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 text-gray-800 dark:text-slate-200 px-4 py-4 rounded-2xl fade-in">
                            <p id="clarificationQuestion" class="mb-3 text-sm font-medium"></p>
                            <input 
                                type="text" 
                                id="clarificationInput" 
                                placeholder="e.g., 'Whtai is a Whatsapp group automation tool'" 
                                class="w-full px-4 py-3 bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-300 dark:focus:ring-slate-500 mb-3 text-gray-700 dark:text-slate-200 placeholder-gray-400"
                            >
                            <button 
                                id="clarificationSubmit" 
                                class="w-full px-4 py-3 bg-gray-800 dark:bg-slate-700 text-white text-sm font-medium rounded-full hover:bg-gray-700 dark:hover:bg-slate-600 focus:ring-2 focus:ring-gray-300 dark:focus:ring-slate-500 transition-all"
                            >
                                Provide Context & Continue
                            </button>
                        </div>
                    </section>
                
                    <div id="resultsContainer" class="hidden mt-10 w-full max-w-4xl mx-auto">
                        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 px-2 gap-3">
                            <h2 class="text-sm font-semibold text-slate-400 uppercase tracking-wider">Analysis Results</h2>
                            <button onclick="copyToClipboard()" class="text-sm text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors flex items-center">
                                <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg>
                                Copy Report
                            </button>
                        </div>
                        
                        <div class="bg-white dark:bg-slate-800 rounded-2xl p-6 sm:p-8 shadow-sm border border-slate-100 dark:border-slate-700 fade-in relative overflow-hidden">
                            <div id="reviewsDisplayRes" class="markdown-body  text-base text-slate-700 dark:text-slate-200 leading-relaxed overflow-y-auto custom-scrollbar pr-2"></div>
                
                            <div id="Rescursor" class="hidden w-2 h-5 bg-slate-900 dark:bg-slate-300 inline-block align-middle ml-1 animate-pulse"></div>
                        </div>
                    </div>
                </main>
            </div>

            <div class="tab-content">
                
             <main class="flex flex-col items-center py-12 px-4">

              <div class="text-center mb-10">
                <div class="flex items-center justify-center space-x-3 mb-2">

                    <h1 class="text-3xl font-bold tracking-tight text-gray-900">Social Post Rephraser</h1>
                </div>
                <p class="text-sm text-gray-500">
                    Fetch, reimagine, and optimize your social content.
                </p>
                </div>
        
            <div class="w-full max-w-3xl space-y-6">
        
                <div class="bg-white border border-gray-200 rounded-3xl p-6 shadow-sm hover:shadow-md transition-shadow">
                    <div class="flex items-center space-x-2 mb-4">
                    </div>
        
                    <form id="fetchFormRfx" class="space-y-4">
                        <div>
                            <label for="urlRfx" class="sr-only">Post URL</label>
                            <div class="icon-input-wrapper">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
                                <input type="url" id="urlRfx" 
                                    class="block w-full rounded-3xl border-gray-300 shadow-sm focus:border-gray-800 focus:ring-gray-800 sm:text-sm py-3 border transition-colors" 
                                    placeholder="Paste Instagram/Social URL here..." required>
                            </div>
                        </div>
        
                        <div class="flex justify-end">
                            <button type="submit" id="fetchBtnRfx"
                                class="w-full sm:w-auto flex justify-center items-center py-3 px-6 border border-transparent rounded-2xl shadow-sm text-sm font-medium text-white bg-gray-900 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all transform active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed">
                                <span id="fetchBtnTextRfx" class="flex items-center">
                                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                                    Fetch Details
                                </span>
                                <svg id="fetchBtnSpinnerRfx" class="hidden animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                            </button>
                        </div>
                    </form>
                </div>
        
                <div id="statusContainerRfx" class="min-h-[20px] text-center">
                    <div id="statusRfx" class="text-left"></div>
        
                    <div id="processAnimationRfx" class="hidden flex flex-row gap-2 items-center justify-center space-y-4 px-10 py-4 border border-gray-200 rounded-2xl ">
                        <svg class="relative w-6 h-6 text-gray-800 animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path></svg>
                        <span style="margin: 0;" id="shimmerTextRfx" class="text-lg shimmer-text-rfx">Initializing...</span>
                    </div>
                </div>
        
                <!-- Skeleton Loader -->
                <div id="skeletonLoaderRfx" class="hidden bg-white border border-gray-200 rounded-2xl p-6 shadow-sm space-y-4">
                    <div class="flex items-center space-x-2 mb-4">
                        <div class="h-4 bg-gray-200 rounded w-1/4 animate-pulse"></div>
                    </div>
                    <div class="w-full h-64 bg-gray-100 rounded-2xl animate-pulse flex items-center justify-center">
                        <svg class="w-10 h-10 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                    </div>
                    <div class="space-y-3 pt-4">
                        <div class="h-3 bg-gray-200 rounded w-full animate-pulse"></div>
                        <div class="h-3 bg-gray-200 rounded w-5/6 animate-pulse"></div>
                        <div class="h-3 bg-gray-200 rounded w-4/6 animate-pulse"></div>
                    </div>
                </div>
        
                <!-- Actual Fetched Content -->
                <div id="fetchedDetailsRfx" class="hidden bg-white border border-gray-200 rounded-2xl shadow-sm overflow-hidden">
                    
                    <!-- Collapsible Header -->
                    <div id="fetchedHeaderBtn" class="p-6 bg-white flex justify-between items-center cursor-pointer border-b border-gray-100 hover:bg-gray-50 transition-colors select-none">
                        <div class="flex items-center space-x-2">
                            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
                            <h2 class="text-lg font-semibold text-gray-800">Fetched Content</h2>
                            <span class="ml-2 px-2.5 py-0.5 bg-gray-100 text-xs font-medium text-gray-600 rounded-full">Ready to Edit</span>
                        </div>
                        <!-- Chevron Icon -->
                        <svg id="fetchedChevron" class="w-5 h-5 text-gray-400 chevron-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
        
                    <div id="fetchedContentBody" class="collapse-content">
                        <div class="p-6">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                                <div class="space-y-2 flex flex-col">
                                <label class="block text-xs font-semibold text-gray-400 uppercase tracking-wider">Fetched Image</label>
                                <div id="mediaRfx" class="rounded-3xl overflow-hidden border border-gray-100 bg-gray-50 flex items-center justify-center max-h-[350px]">
                                </div>
                            </div>
        
                                <div class="space-y-2 flex flex-col">
                                    <label class="block text-xs font-semibold text-gray-400 uppercase tracking-wider">Original Caption</label>
                                    <div id="captionRfx" class="text-sm text-gray-600 bg-gray-50 p-4 rounded-2xl border border-gray-100 h-full overflow-y-auto custom-scrollbar max-h-[350px]">
                                    </div>
                                </div>
                            </div>
        
                            <!-- Create Form -->
                            <form id="createFormRfx" class="space-y-5 border-t border-gray-100 pt-6">
                                <!-- Hidden fields -->
                                <input type="hidden" id="fetched_captionRfx">
                                <input type="hidden" id="fetched_imgpathRfx">
                            
                                <div>
                                    <label for="rephrase_promptRfx" class="block text-sm font-medium text-gray-700 mb-1">Rephrase Prompt</label>
                                    <div class="icon-input-wrapper">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                                        <textarea id="rephrase_promptRfx" rows="3" 
                                            class="block w-full rounded-2xl border-gray-300 shadow-sm focus:border-gray-800 focus:ring-gray-800 sm:text-sm py-3 border" 
                                            placeholder="e.g., Make it engaging for shoe lovers, add emojis" required></textarea>
                                    </div>
                                </div>
                            
                                <div>
                                    <label for="image_suggestionRfx" class="block text-sm font-medium text-gray-700 mb-1">Image Edit Suggestion</label>
                                    <div class="icon-input-wrapper">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle></svg>
                                        <textarea id="image_suggestionRfx" rows="2" 
                                            class="block w-full rounded-2xl border-gray-300 shadow-sm focus:border-gray-800 focus:ring-gray-800 sm:text-sm py-3 border" 
                                            placeholder="e.g., Add stylish sneakers in the background" required></textarea>
                                    </div>
                                </div>
                            
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label for="theme_idRfx" class="block text-sm font-medium text-gray-700 mb-1">Select Theme</label>
                                        <div class="icon-input-wrapper">
                            
                                            <svg fill="currentColor" width="18" height="18" viewBox="0 0 32 32" id="icon" xmlns="http://www.w3.org/2000/svg"><defs><style>.cls-1{fill:none;}</style></defs><title>api</title><path d="M26,22a3.86,3.86,0,0,0-2,.57l-3.09-3.1a6,6,0,0,0,0-6.94L24,9.43A3.86,3.86,0,0,0,26,10a4,4,0,1,0-4-4,3.86,3.86,0,0,0,.57,2l-3.1,3.09a6,6,0,0,0-6.94,0L9.43,8A3.86,3.86,0,0,0,10,6a4,4,0,1,0-4,4,3.86,3.86,0,0,0,2-.57l3.09,3.1a6,6,0,0,0,0,6.94L8,22.57A3.86,3.86,0,0,0,6,22a4,4,0,1,0,4,4,3.86,3.86,0,0,0-.57-2l3.1-3.09a6,6,0,0,0,6.94,0L22.57,24A3.86,3.86,0,0,0,22,26a4,4,0,1,0,4-4ZM26,4a2,2,0,1,1-2,2A2,2,0,0,1,26,4ZM4,6A2,2,0,1,1,6,8,2,2,0,0,1,4,6ZM6,28a2,2,0,1,1,2-2A2,2,0,0,1,6,28Zm10-8a4,4,0,1,1,4-4A4,4,0,0,1,16,20Zm10,8a2,2,0,1,1,2-2A2,2,0,0,1,26,28Z" transform="translate(0 0)"/><rect class="cls-1" width="32" height="32"/></svg>
                                            <select id="theme_idRfx"
                                                class="block w-full rounded-2xl border-gray-300 shadow-sm focus:border-gray-800 focus:ring-gray-800 sm:text-sm py-3 border bg-white">
                                                <option value="">Loading themes...</option>
                                            </select>
                                        </div>
                                    </div>
                            
                                    <div>
                                        <label for="modelRfx" class="block text-sm font-medium text-gray-700 mb-1">Gemini Model</label>
                                        <div class="icon-input-wrapper">
                                            <svg fill="currentColor" width="18" height="18" viewBox="0 0 32 32" id="icon" xmlns="http://www.w3.org/2000/svg">
                                                <defs>
                                                  <style>
                                                    .cls-1 {
                                                      fill: none;
                                                    }
                                                  </style>
                                                </defs>
                                                <path d="M28.4473,16.1055,23,13.3818V7a1,1,0,0,0-.5527-.8945l-6-3a1.0008,1.0008,0,0,0-.8946,0l-6,3A1,1,0,0,0,9,7v6.3818L3.5527,16.1055A1,1,0,0,0,3,17v7a1,1,0,0,0,.5527.8945l6,3a1.001,1.001,0,0,0,.8946,0L16,25.1182l5.5527,2.7763a1.001,1.001,0,0,0,.8946,0l6-3A1,1,0,0,0,29,24V17A1,1,0,0,0,28.4473,16.1055ZM21,13.3818l-4,2V10.6182l4-2ZM16,5.1182,19.7637,7,16,8.8818,12.2363,7Zm-5,3.5,4,2v4.7636l-4-2ZM9,25.3818l-4-2V18.6182l4,2Zm1-6.5L6.2363,17,10,15.1182,13.7637,17Zm1,1.7364,4-2v4.7636l-4,2Zm10,4.7636-4-2V18.6182l4,2Zm1-6.5L18.2363,17,22,15.1182,25.7637,17Zm5,4.5-4,2V20.6182l4-2Z"/>
                                                <rect id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" class="cls-1" width="32" height="32"/>
                                              </svg>
                                            <select id="modelRfx" 
                                                class="block w-full rounded-2xl border-gray-300 shadow-sm focus:border-gray-800 focus:ring-gray-800 sm:text-sm py-3 border bg-white">
                                                <option value="gemini-2.5-flash-image" selected>gemini-2.5-flash-image</option>
                                                <option value="gemini-3-pro-image-preview">gemini-3-pro-image-preview</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            
                                <div>
                                    <label for="watermark_positionRfx" class="block text-sm font-medium text-gray-700 mb-1">Watermark Position</label>
                                    <div class="icon-input-wrapper">
                                        <!-- Optional icon  you can replace with a suitable watermark SVG if desired -->
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M12 2L2 12h3v8h14v-8h3L12 2z"></path>
                                            <text x="6" y="16" font-size="8" fill="currentColor"></text>
                                        </svg>
                                        <select id="watermark_positionRfx" 
                                            class="block w-full rounded-2xl border-gray-300 shadow-sm focus:border-gray-800 focus:ring-gray-800 sm:text-sm py-3 border bg-white">
                                            <option value="">No watermark</option>
                                            <option value="bottom-right">Bottom Right</option>
                                            <option value="top-left">Top Left</option>
                                            <option value="top-right">Top Right</option>
                                            <option value="bottom-left">Bottom Left</option>
                                        </select>
                                    </div>
                                </div>
                            
                                <button type="submit" id="createSubmitBtnRfx" disabled
                                    class="w-full flex justify-center items-center py-3.5 px-4 border border-transparent rounded-3xl shadow-sm text-sm font-medium text-white bg-gray-900 hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all transform hover:scale-[1.02] mt-4">
                                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                                    Generate New Post
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

             </main>

            </div>

            <div class="tab-content">
                <div class="container mx-auto px-6 py-4 max-w-7xl">

                    <div class="text-center mb-8">
                        <div class="flex gap-2 items-center justify-center mb-3">
                            <div class="text-3xl md:text-4xl font-semibold tracking-tight text-slate-900 dark:text-white ">
                                Video Forger
                            </div>
                        </div>
                        <p class="text-gray-600 dark:text-slate-400 text-lg">
                            Professional Caption and Title Overlay Editor
                        </p>
                    </div>
                    
                    <form id="videoFormVds" class="w-full">
                        <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 items-start">
                            
                            <div class="lg:col-span-4 flex flex-col gap-5 h-full">
                                <div class="group relative flex-grow">
                                    <div class="border-2 border-dashed border-gray-300 rounded-xl bg-white p-6 text-center transition-all duration-300 hover:border-black hover:bg-gray-50 cursor-pointer h-48 lg:h-[20rem] flex flex-col items-center justify-center" id="dropZoneVds">
                                        <input type="file" id="videoFileVds" name="video" class="hidden" accept="video/*" required>
                                        <label for="videoFileVds" class="cursor-pointer flex flex-col items-center justify-center w-full h-full">
                                            <div class="w-12 h-12 mb-3 rounded-full bg-gray-100 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                                                <i class="fa-solid fa-plus text-xl text-gray-600"></i>
                                            </div>
                                            <span class="text-gray-900 font-medium text-lg" id="fileNameVds">Upload Video</span>
                                            <span class="text-sm text-gray-400 mt-2 font-mono">MP4, MOV (MAX 100MB)</span>
                                        </label>
                                    </div>
                                </div>
            
                                <button type="submit" id="submitBtnVds" class="w-full bg-black text-white font-bold py-3 rounded-full shadow-lg hover:bg-slate-900 transform active:scale-[0.99] transition-all duration-200 flex items-center justify-center border border-transparent">
                                    <span id="btnTextVds" class="flex items-center">
                                        Generate Video <i class="fa-solid fa-arrow-right ml-2 text-sm"></i>
                                    </span>
                                </button>
                            </div>
            
                            <div class="lg:col-span-8 bg-white p-6 rounded-2xl border border-gray-200 shadow-sm">
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    
                                    <div class="space-y-3">
                                        <div class="flex items-center space-x-2 border-b border-gray-100 pb-2 mb-3">
                                            <span class="w-5 h-5 rounded-full bg-slate-900 text-white flex items-center justify-center text-[10px] font-bold">1</span>
                                            <h3 class="text-sm font-bold uppercase tracking-wider text-gray-900">Heading</h3>
                                        </div>
                                        
                                        <div class="space-y-3">
                                            <div>
                                                <label class="block text-[10px] font-bold text-gray-400 uppercase mb-1">Text</label>
                                                <input type="text" name="caption_heading" placeholder="ENTER TITLE" class="w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded focus:ring-1 focus:ring-black focus:border-black outline-none transition font-medium">
                                            </div>
                                            <div class="grid grid-cols-2 gap-3">
                                                <div>
                                                    <label class="block text-[10px] font-bold text-gray-400 uppercase mb-1">Size</label>
                                                    <input type="number" name="caption_heading_font_size" value="70" class="w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded focus:ring-1 focus:ring-black outline-none">
                                                </div>
                                                <div>
                                                    <label class="block text-[10px] font-bold text-gray-400 uppercase mb-1">Color</label>
                                                    <select name="caption_heading_color" class="w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded focus:ring-1 focus:ring-black outline-none cursor-pointer">
                                                        <option value="white">White</option>
                                                        <option value="black">Black</option>
                                                        <option value="yellow">Yellow</option>
                                                        <option value="red">Red</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div>
                                                <label class="block text-[10px] font-bold text-gray-400 uppercase mb-1">Font</label>
                                                <select name="caption_heading_font" class="w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded focus:ring-1 focus:ring-black outline-none">
                                                    <option value="Arial">Arial</option>
                                                    <option value="Arial Bold">Arial Bold</option>
                                                    <option value="Calibri">Calibri</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
            
                                    <div class="space-y-3">
                                        <div class="flex items-center space-x-2 border-b border-gray-100 pb-2 mb-3">
                                            <span class="w-5 h-5 rounded-full bg-slate-900 text-white flex items-center justify-center text-[10px] font-bold">2</span>
                                            <h3 class="text-sm font-bold uppercase tracking-wider text-gray-900">Captions</h3>
                                        </div>
                                        
                                        <div class="space-y-3">
                                            <div>
                                                <label class="block text-[10px] font-bold text-gray-400 uppercase mb-1">Content</label>
                                                <textarea name="caption_text" placeholder="Type caption..." rows="2" class="w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded focus:ring-1 focus:ring-black outline-none transition font-medium">Your Caption Here</textarea>
                                            </div>
                                            <div class="grid grid-cols-2 gap-3">
                                                <div>
                                                    <label class="block text-[10px] font-bold text-gray-400 uppercase mb-1">Size</label>
                                                    <input type="number" name="caption_text_font_size" value="45" class="w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded focus:ring-1 focus:ring-black outline-none">
                                                </div>
                                                <div>
                                                    <label class="block text-[10px] font-bold text-gray-400 uppercase mb-1">Color</label>
                                                    <select name="caption_text_color" class="w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded focus:ring-1 focus:ring-black outline-none cursor-pointer">
                                                        <option value="white">White</option>
                                                        <option value="yellow">Yellow</option>
                                                        <option value="cyan">Cyan</option>
                                                        <option value="lime">Lime</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div>
                                                <label class="block text-[10px] font-bold text-gray-400 uppercase mb-1">Font</label>
                                                <select name="caption_text_font" class="w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded focus:ring-1 focus:ring-black outline-none">
                                                    <option value="Arial">Arial</option>
                                                    <option value="Arial Bold">Arial Bold</option>
                                                    <option value="Calibri">Calibri</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
            
                                    <div class="md:col-span-2 pt-2">
                                        <div class="flex items-center space-x-2 border-b border-gray-100 pb-2 mb-3">
                                            <span class="w-5 h-5 rounded-full bg-slate-900 text-white flex items-center justify-center text-[10px] font-bold">3</span>
                                            <h3 class="text-sm font-bold uppercase tracking-wider text-gray-900">Output Settings</h3>
                                        </div>
            
                                        <div class="grid grid-cols-3 gap-4">
                                            <div>
                                                <label class="block text-[10px] font-bold text-gray-400 uppercase mb-1">Framerate</label>
                                                <select name="fps" class="w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded focus:ring-1 focus:ring-black outline-none cursor-pointer">
                                                    <option value="30">30 FPS</option>
                                                    <option value="60" selected>60 FPS</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label class="block text-[10px] font-bold text-gray-400 uppercase mb-1">Bitrate</label>
                                                <select name="bitrate" class="w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded focus:ring-1 focus:ring-black outline-none cursor-pointer">
                                                    <option value="2000k">Low</option>
                                                    <option value="4000k">Medium</option>
                                                    <option value="8000k" selected>High (HQ)</option>
                                                    <option value="20000k">4k</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label class="block text-[10px] font-bold text-gray-400 uppercase mb-1">Bg Color</label>
                                                <div class="flex items-center">
                                                    <input type="color" name="background_color" value="#000000" class="w-full h-9 cursor-pointer">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
            
                                </div>
                            </div>
                        </div>
                    </form>
                    <div id="progressSectionVds" class="hidden mt-3">
                        <div class="flex justify-between items-end mb-1">
                            <span id="progressStatusVds" class="text-sm font-bold uppercase tracking-wider text-gray-600">Initializing...</span>
                            <span id="progressPercentVds" class="text-sm font-mono font-bold text-black">0%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden mb-2">
                            <div id="progressBarVds" class="bg-slate-900 h-3  transition-all duration-300" style="width: 0%"></div>
                        </div>
                        <div id="logContainerVds" class="bg-white border border-gray-200 text-gray-600 text-[12px] p-2 rounded-lg h-24 overflow-y-auto font-mono">
                            <p class="text-gray-400">> Ready for instructions...</p>
                        </div>
                    </div>
            
                    <div id="resultSectionVds" class="hidden mt-3">
                        <div class="border border-gray-200 bg-white rounded-xl p-4 text-center shadow-sm">
                            <div class="inline-flex items-center justify-center w-10 h-10 bg-slate-900 text-white rounded-full mb-2">
                                <i class="fa-solid fa-check text-sm"></i>
                            </div>
                            <h3 class="text-sm font-bold text-gray-900">Process Complete</h3>
                            <div class="grid grid-cols-2 gap-2 mt-3">
                                <a id="downloadLinkVds" href="#" class="bg-slate-900 text-white py-4 rounded-lg font-bold hover:bg-slate-800 transition text-lg flex items-center justify-center">
                                    <i class="fa-solid fa-download mr-1"></i> Download
                                </a>
                                <button type="button" onclick="location.reload()" class="bg-white border border-gray-300 text-gray-700 py-4 rounded-lg font-bold hover:bg-gray-50 transition text-lg">
                                    New
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>


  <div id="postUiModalOverlay" class="fixed inset-0 z-50 hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    <div class="fixed inset-0 bg-slate-900/60 transition-opacity" onclick="closePostUiModal()"></div>
    <div class="fixed inset-0 z-10 overflow-y-auto">
      <div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0">
        <div class="relative transform overflow-hidden rounded-2xl bg-white dark:bg-slate-850 text-left shadow-2xl transition-all sm:my-8 w-full max-w-5xl"
             onclick="event.stopPropagation()">
           <div id="modalContent"></div>
        </div>
      </div>
    </div>
  </div>

  <div id="modalOverlay" class="relative z-50 hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    <div class="fixed inset-0 bg-gray-900/80 transition-opacity"></div>
    <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
      <div class="flex min-h-full items-center justify-center p-1 text-center sm:p-0">
        <div class="relative transform overflow-hidden rounded-3xl bg-white text-left  transition-all sm:w-full sm:max-w-5xl border border-gray-200 flex flex-col">
          <div class="flex flex-col lg:grid lg:grid-cols-12 h-full">
              <div class="lg:col-span-5 bg-gray-50/50 border-b lg:border-b-0 lg:border-r border-gray-200 p-6 lg:p-8 flex flex-col gap-6">
                    <div class="group relative w-full overflow-hidden rounded-2xl bg-gray-200 border border-gray-300 shadow-sm aspect-video lg:aspect-square flex items-center justify-center">
                        <img id="modalImg" src="" class="w-full h-full object-cover transition-transform duration-700 hover:scale-105" style="display:none">
                        
                        <video id="modalVideo" class="w-full h-full object-cover" controls style="display:none"></video>
                    
                        <div id="imageDownloadBtn" class="absolute top-3 right-3 hidden bg-white/90 hover:bg-white rounded-full p-2 shadow-lg cursor-pointer z-10 transition-opacity">
                            <svg fill="currentColor" class="w-5 h-5 text-gray-600" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.71,6.29a1,1,0,0,0-1.42,0L20,7.59V2a1,1,0,0,0-2,0V7.59l-1.29-1.3a1,1,0,0,0-1.42,1.42l3,3a1,1,0,0,0,.33.21.94.94,0,0,0,.76,0,1,1,0,0,0,.33-.21l3-3A1,1,0,0,0,22.71,6.29ZM19,13a1,1,0,0,0-1,1v.38L16.52,12.9a2.79,2.79,0,0,0-3.93,0l-.7.7L9.41,11.12a2.85,2.85,0,0,0-3.93,0L4,12.6V7A1,1,0,0,1,5,6h8a1,1,0,0,0,0-2H5A3,3,0,0,0,2,7V19a3,3,0,0,0,3,3H17a3,3,0,0,0,3-3V14A1,1,0,0,0,19,13ZM5,20a1,1,0,0,1-1-1V15.43l2.9-2.9a.79.79,0,0,1,1.09,0l3.17,3.17,0,0L15.46,20Zm13-1a.89.89,0,0,1-.18.53L13.31,15l.7-.7a.77.77,0,0,1,1.1,0L18,17.21Z"/></svg>
                        </div>
                        
                        <div id="modalNoImg" class="flex flex-col items-center justify-center text-gray-400 hidden p-6 text-center">
                            <span class="text-xs font-medium uppercase tracking-wide">No Media Preview</span>
                        </div>
                    </div>
                  <div class="flex-1 min-h-0 flex flex-col">
                      <label class="block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2">Caption Preview</label>
                      <div class="bg-white rounded-lg p-4 border border-gray-200 shadow-sm flex-1 overflow-y-auto max-h-[200px]">
                          <div class="flex justify-end mb-3 ">
                              <button id="copyCaptionBtn" class="px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-l-xl text-sm text-gray-600 transition-colors">
                                <svg class="w-4 h-4 text-gray-600" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M15 1.25H10.9436C9.10583 1.24998 7.65019 1.24997 6.51098 1.40314C5.33856 1.56076 4.38961 1.89288 3.64124 2.64124C2.89288 3.38961 2.56076 4.33856 2.40314 5.51098C2.24997 6.65019 2.24998 8.10582 2.25 9.94357V16C2.25 17.8722 3.62205 19.424 5.41551 19.7047C5.55348 20.4687 5.81753 21.1208 6.34835 21.6517C6.95027 22.2536 7.70814 22.5125 8.60825 22.6335C9.47522 22.75 10.5775 22.75 11.9451 22.75H15.0549C16.4225 22.75 17.5248 22.75 18.3918 22.6335C19.2919 22.5125 20.0497 22.2536 20.6517 21.6517C21.2536 21.0497 21.5125 20.2919 21.6335 19.3918C21.75 18.5248 21.75 17.4225 21.75 16.0549V10.9451C21.75 9.57754 21.75 8.47522 21.6335 7.60825C21.5125 6.70814 21.2536 5.95027 20.6517 5.34835C20.1208 4.81753 19.4687 4.55348 18.7047 4.41551C18.424 2.62205 16.8722 1.25 15 1.25ZM17.1293 4.27117C16.8265 3.38623 15.9876 2.75 15 2.75H11C9.09318 2.75 7.73851 2.75159 6.71085 2.88976C5.70476 3.02502 5.12511 3.27869 4.7019 3.7019C4.27869 4.12511 4.02502 4.70476 3.88976 5.71085C3.75159 6.73851 3.75 8.09318 3.75 10V16C3.75 16.9876 4.38624 17.8265 5.27117 18.1293C5.24998 17.5194 5.24999 16.8297 5.25 16.0549V10.9451C5.24998 9.57754 5.24996 8.47522 5.36652 7.60825C5.48754 6.70814 5.74643 5.95027 6.34835 5.34835C6.95027 4.74643 7.70814 4.48754 8.60825 4.36652C9.47522 4.24996 10.5775 4.24998 11.9451 4.25H15.0549C15.8297 4.24999 16.5194 4.24998 17.1293 4.27117ZM7.40901 6.40901C7.68577 6.13225 8.07435 5.9518 8.80812 5.85315C9.56347 5.75159 10.5646 5.75 12 5.75H15C16.4354 5.75 17.4365 5.75159 18.1919 5.85315C18.9257 5.9518 19.3142 6.13225 19.591 6.40901C19.8678 6.68577 20.0482 7.07435 20.1469 7.80812C20.2484 8.56347 20.25 9.56458 20.25 11V16C20.25 17.4354 20.2484 18.4365 20.1469 19.1919C20.0482 19.9257 19.8678 20.3142 19.591 20.591C19.3142 20.8678 18.9257 21.0482 18.1919 21.1469C17.4365 21.2484 16.4354 21.25 15 21.25H12C10.5646 21.25 9.56347 21.2484 8.80812 21.1469C8.07435 21.0482 7.68577 20.8678 7.40901 20.591C7.13225 20.3142 6.9518 19.9257 6.85315 19.1919C6.75159 18.4365 6.75 17.4354 6.75 16V11C6.75 9.56458 6.75159 8.56347 6.85315 7.80812C6.9518 7.07435 7.13225 6.68577 7.40901 6.40901Z" fill="currentColor"/>
                                    </svg>
                              </button>
                              <button id="downloadCaptionBtn" class="px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-r-xl text-sm text-gray-600 transition-colors">
                                <svg class="w-5 h-5 text-gray-600"  viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5.625 15C5.625 14.5858 5.28921 14.25 4.875 14.25C4.46079 14.25 4.125 14.5858 4.125 15H5.625ZM4.875 16H4.125H4.875ZM19.275 15C19.275 14.5858 18.9392 14.25 18.525 14.25C18.1108 14.25 17.775 14.5858 17.775 15H19.275ZM11.1086 15.5387C10.8539 15.8653 10.9121 16.3366 11.2387 16.5914C11.5653 16.8461 12.0366 16.7879 12.2914 16.4613L11.1086 15.5387ZM16.1914 11.4613C16.4461 11.1347 16.3879 10.6634 16.0613 10.4086C15.7347 10.1539 15.2634 10.2121 15.0086 10.5387L16.1914 11.4613ZM11.1086 16.4613C11.3634 16.7879 11.8347 16.8461 12.1613 16.5914C12.4879 16.3366 12.5461 15.8653 12.2914 15.5387L11.1086 16.4613ZM8.39138 10.5387C8.13662 10.2121 7.66533 10.1539 7.33873 10.4086C7.01212 10.6634 6.95387 11.1347 7.20862 11.4613L8.39138 10.5387ZM10.95 16C10.95 16.4142 11.2858 16.75 11.7 16.75C12.1142 16.75 12.45 16.4142 12.45 16H10.95ZM12.45 5C12.45 4.58579 12.1142 4.25 11.7 4.25C11.2858 4.25 10.95 4.58579 10.95 5H12.45ZM4.125 15V16H5.625V15H4.125ZM4.125 16C4.125 18.0531 5.75257 19.75 7.8 19.75V18.25C6.61657 18.25 5.625 17.2607 5.625 16H4.125ZM7.8 19.75H15.6V18.25H7.8V19.75ZM15.6 19.75C17.6474 19.75 19.275 18.0531 19.275 16H17.775C17.775 17.2607 16.7834 18.25 15.6 18.25V19.75ZM19.275 16V15H17.775V16H19.275ZM12.2914 16.4613L16.1914 11.4613L15.0086 10.5387L11.1086 15.5387L12.2914 16.4613ZM12.2914 15.5387L8.39138 10.5387L7.20862 11.4613L11.1086 16.4613L12.2914 15.5387ZM12.45 16V5H10.95V16H12.45Z" fill="currentColor"/>
                                </svg>
                                </button>
                          </div>
                          <pre id="modalContentText" class="whitespace-pre-wrap text-sm leading-relaxed text-gray-600 "></pre>
                          <div class="mt-4 pt-3 border-t border-gray-100 flex flex-wrap gap-2">
                              <span id="modalHashtags" class="text-sm font-medium text-gray-500 italic"></span>
                          </div>
                      </div>
                  </div>
              </div>
              <div class="lg:col-span-7 bg-white p-6 lg:p-8 flex flex-col h-full">
  
                  <div class="flex justify-between items-start mb-6">
                      <div>
                          <h3 class="text-xl font-bold text-gray-900 tracking-tight" id="modalTitle">Task Details</h3>
                          
                      </div>
                      <span class="px-3 py-1 rounded-full bg-green-100 text-green-800 text-xs font-bold uppercase tracking-wide border border-green-200">
                          Approved
                      </span>
                  </div>
                  <div class="flex-1 overflow-y-auto pr-2 custom-scrollbar">
                      <div id="schedulingSection" class="hidden animate-in fade-in slide-in-from-bottom-2 duration-300">
                          <div class="mb-5 pb-4 border-b border-gray-100">
                              <h4 class="text-sm font-semibold text-gray-900 flex items-center gap-2">
                                  Configuration
                              </h4>
                          </div>
  
                          <div class="space-y-6">
                              <div class="px-4">
                                  <label class="block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">Select Platforms</label>
                                  <div id="platformsList" class="grid grid-cols-1 sm:grid-cols-2 gap-3"></div>
                                  <div id="inswarn" class=" text-sm text-yellow-500 mt-2"> Instagram posting requires an image. Text-only posts are not supported. </div>
                                    <div id="InstaPstTyp" class="hidden flex gap-4 text-sm font-medium text-gray-600"><label class="flex items-center gap-2 cursor-pointer group">
                                        <input type="radio" name="postType" value="Post" checked="" class="w-4 h-4 text-gray-800 border-gray-300 focus:ring-gray-800">
                                        <span class="group-hover:text-gray-800 transition">Post</span>
                                    </label><label class="flex items-center gap-2 cursor-pointer group">
                                        <input type="radio" name="postType" value="Reel" class="w-4 h-4 text-gray-800 border-gray-300 focus:ring-gray-800">
                                        <span class="group-hover:text-gray-800 transition">Reel</span>
                                    </label><label class="flex items-center gap-2 cursor-pointer group">
                                        <input type="radio" name="postType" value="Story" class="w-4 h-4 text-gray-800 border-gray-300 focus:ring-gray-800">
                                        <span class="group-hover:text-gray-800 transition">Story</span>
                                    </label></div>
                              </div>
  
                              <div class="grid grid-cols-1 gap-5">
                                  <div>
                                      <div class="flex items-center gap-2 mt-1 text-xs text-gray-500">
                                        <label class="block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">Publish Date & Time (IST)</label>
                                        <svg class="w-4 h-4 mb-2 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
                                        <span class="mb-2">AI Suggestion: <span id="modalTime" class="font-medium text-gray-700"></span></span>
                                      </div>
                                      <div class="relative">
                                          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                              <svg class="h-4 w-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                          </div>
                                          <input type="datetime-local" id="scheduledAtInput" class="block w-full rounded-lg border-gray-300 bg-white pl-10 px-4 py-2.5 text-gray-900 shadow-sm focus:border-gray-500 focus:ring-gray-500 sm:text-sm transition-colors ">
                                      </div>
                                  </div>
                              </div>
  
                              <!-- Notes -->
                              <div>
                                  <label class="block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">Internal Notes</label>
                                  <textarea id="notesInput" rows="3" class="block w-full rounded-lg border-gray-300 bg-white px-4 py-2 text-gray-900 shadow-sm focus:border-gray-500 focus:ring-gray-500 sm:text-sm resize-none transition-colors  " placeholder="Add specific instructions for the reviewer..."></textarea>
                              </div>
                          </div>
                      </div>
                      <div id="emptyStatePlaceholder" class="hidden h-32 flex items-center justify-center border-2 border-dashed border-gray-100 rounded-lg">
                          <span class="text-sm text-gray-400">Scheduling options not available</span>
                      </div>
  
                  </div>
                  <div class="mt-8 pt-4 border-t border-gray-100 flex flex-col-reverse sm:flex-row sm:justify-end gap-3">
                       <button type="button" id="closeModalBtn" class="inline-flex w-full justify-center rounded-xl bg-white px-5 py-2.5 text-sm font-semibold text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:w-auto transition-all">
                          Cancel
                      </button>
                      <button type="button" id="scheduleBtn" class="hidden w-full inline-flex justify-center items-center rounded-xl bg-gray-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-gray-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-600 transition-all">
                          Confirm Schedule
                      </button>
                  </div>
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="postUiModalOverlayGfr" class="hidden fixed inset-0 bg-black/60  z-50 flex items-center justify-center p-0 sm:p-4">
    <div class="bg-white dark:bg-slate-900 sm:rounded-2xl shadow-2xl w-full max-w-7xl h-[100dvh] sm:h-[95vh] flex flex-col overflow-hidden ring-1 ring-slate-900/5">

        <div class="shrink-0 flex items-center justify-between px-6 py-4 border-b border-slate-200 dark:border-slate-800 bg-white/50 dark:bg-slate-900/50 z-20">
            <div class="text-left">
                <h2 class="text-lg font-bold text-slate-900 dark:text-white tracking-tight">Edit Draft</h2>
                <p id="modalTaskIdGfr" class="hidden text-xs lg:flex text-slate-500 font-mono mt-0.5"></p>
            </div>
            <div class="flex gap-3">
                <button id="btnApproveGfr" class="hidden flex items-center justify-center bg-emerald-600 hover:bg-emerald-700 text-white px-5 py-2 rounded-full text-sm font-semibold transition-all shadow-sm hover:shadow-md">
                    <div><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div>
                   <div>Approve Draft</div>
                </button>
                <button onclick="closePostUiModalGfr()" class="text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
            </div>
        </div>

        <div class="flex flex-col lg:flex-row flex-1 overflow-hidden">

            <div class="w-full lg:w-2/3 xl:w-4/6 flex flex-col overflow-y-auto custom-scrollbar bg-white dark:bg-slate-900">
                <div class="p-6 space-y-6 flex flex-col flex-1 min-h-0">
                    
                    <div class="flex flex-col flex-1 space-y-2 relative min-h-[300px]">
                        <label id="postCaption" class="block text-sm font-bold text-slate-700 dark:text-slate-200 uppercase tracking-wider">Post Caption</label>
                        
                        <div class="relative flex-1 flex flex-col">
                            <textarea id="captionGfr" class="flex-1 w-full p-5 bg-slate-50 dark:bg-slate-950/50 border border-slate-200 dark:border-slate-800 rounded-2xl text-base leading-relaxed focus:border-slate-400 dark:focus:border-slate-600 transition shadow-inner resize-none outline-none ring-0 focus:ring-0"></textarea>
                            
                            <div class="absolute bottom-6 right-6 flex flex-col items-end gap-3 z-30">
                                <div id="tools-menu" class="flex flex-col items-center gap-2 p-1.5 bg-white dark:bg-slate-800 rounded-full shadow-xl border border-slate-100 dark:border-slate-700 transition-all duration-300 ease-spring origin-bottom opacity-0 scale-y-50 translate-y-10 pointer-events-none absolute bottom-16 right-0">
                                    <button title="Make the caption concise" name="concise" class="p-3 text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path d="m17.5 10.5l2 2M14 14l2 2m-5.5 1.5l2 2"/><path stroke-linejoin="round" d="M10.536 4.678c1.364-1.365 2.047-2.047 2.808-2.363a4.14 4.14 0 0 1 3.17 0c.761.316 1.444.998 2.808 2.363c1.365 1.364 2.047 2.047 2.363 2.808a4.14 4.14 0 0 1 0 3.17c-.316.761-.998 1.444-2.363 2.808l-5.857 5.858c-1.365 1.365-2.048 2.047-2.809 2.363a4.14 4.14 0 0 1-3.17 0c-.761-.316-1.444-.998-2.808-2.363c-1.365-1.364-2.047-2.047-2.363-2.808a4.14 4.14 0 0 1 0-3.17c.316-.761.998-1.444 2.363-2.808z"/></g></svg>
                                    </button>
                                    <button title="Make the caption professional" name="professional" class="p-3 text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors">
                                        <svg width="18px" height="18px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 11C3 9.11438 3 8.17157 3.58579 7.58579C4.17157 7 5.11438 7 7 7H8H16H17C18.8856 7 19.8284 7 20.4142 7.58579C21 8.17157 21 9.11438 21 11V17C21 18.8856 21 19.8284 20.4142 20.4142C19.8284 21 18.8856 21 17 21H16H8H7C5.11438 21 4.17157 21 3.58579 20.4142C3 19.8284 3 18.8856 3 17V11Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/><path d="M8 21V5C8 3.89543 8.89543 3 10 3H14C15.1046 3 16 3.89543 16 5V21" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/></svg>
                                    </button>
                                    <button title="Make the caption formal" name="formal" class="p-3 text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors">
                                        <svg width="18px" height="18px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 19V6.2C4 5.0799 4 4.51984 4.21799 4.09202C4.40973 3.71569 4.71569 3.40973 5.09202 3.21799C5.51984 3 6.0799 3 7.2 3H16.8C17.9201 3 18.4802 3 18.908 3.21799C19.2843 3.40973 19.5903 3.71569 19.782 4.09202C20 4.51984 20 5.0799 20 6.2V17H6C4.89543 17 4 17.8954 4 19ZM4 19C4 20.1046 4.89543 21 6 21H20M9 7H15M9 11H15M19 17V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                                    </button>
                                    <button title="Custom Formating" onclick="activateInputMode()" class="p-3 text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors">
                                        <svg fill="currentColor" width="18px" height="18px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.764,2A4.2,4.2,0,0,0,14.77,3.241L3.155,14.855a1,1,0,0,0-.28.55l-.863,5.438a1,1,0,0,0,1.145,1.145L8.6,21.125a1,1,0,0,0,.55-.28L20.759,9.23a4.236,4.236,0,0,0-3-7.23ZM7.96,19.2,4.2,19.8l.6-3.757,8.39-8.391,3.162,3.162ZM19.345,7.816,17.765,9.4,14.6,6.235l1.581-1.58a2.289,2.289,0,0,1,3.161,0,2.234,2.234,0,0,1,0,3.161Z"/></svg>
                                    </button>
                                </div>
                                <div class="flex items-center gap-2 relative">
                                    <div id="input-container" class="w-0 opacity-0 overflow-hidden transition-all duration-500 ease-spring origin-right bg-white dark:bg-slate-800 rounded-full shadow-xl border border-slate-100 dark:border-slate-700 flex items-center h-12">
                                        <input type="text" id="chat-input" placeholder="Ask anything..." class="w-full h-full px-5 py-3 bg-transparent text-slate-700 dark:text-slate-200 min-w-[280px] outline-none ring-0 focus:ring-0 border-none text-sm">
                                    </div>
                                    <button title="Use AI to format the Caption" id="main-btn" onclick="handleMainClick()" class="group relative w-12 h-12 bg-slate-900 hover:bg-black dark:bg-white dark:hover:bg-slate-200 text-white dark:text-slate-900 rounded-full shadow-lg z-10 flex items-center justify-center overflow-hidden transition-transform active:scale-95">
                                        <div class="absolute inset-0 flex items-center justify-center transition-all duration-300 ease-spring rotate-0 scale-100 opacity-100 group-[.input-mode]:-rotate-90 group-[.input-mode]:scale-0 group-[.input-mode]:opacity-0 group-[.menu-open]:rotate-45">
                                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.9914 2.86904C12.9914 2.86899 12.9914 2.86895 12.9914 2.86891C12.9256 2.37165 12.5016 2 12 2C11.4983 2 11.0743 2.37171 11.0086 2.86904L11.0086 2.86932L11.0085 2.86992L11.0075 2.87704L11.0029 2.91013C10.9985 2.94035 10.9917 2.98656 10.9822 3.04699C10.9633 3.16792 10.9339 3.34537 10.8927 3.56523C10.81 4.00611 10.6812 4.61161 10.4967 5.27082C10.1127 6.64363 9.5417 8.04408 8.79289 8.79289C8.04408 9.5417 6.64363 10.1127 5.27082 10.4967C4.61161 10.6812 4.00611 10.81 3.56523 10.8927C3.34537 10.9339 3.16792 10.9633 3.04699 10.9822C2.98656 10.9917 2.94035 10.9985 2.91013 11.0029L2.87704 11.0075L2.86992 11.0085L2.86932 11.0086C2.86923 11.0086 2.86913 11.0086 2.86904 11.0086C2.86899 11.0086 2.86895 11.0086 2.86891 11.0086C2.37165 11.0744 2 11.4984 2 12C2 12.5017 2.37171 12.9257 2.86904 12.9914L2.86932 12.9914L2.86992 12.9915L2.87704 12.9925L2.91013 12.9971C2.94035 13.0015 2.98656 13.0083 3.04699 13.0178C3.16792 13.0367 3.34537 13.0661 3.56523 13.1073C4.00611 13.19 4.61161 13.3188 5.27082 13.5033C6.64363 13.8873 8.04408 14.4583 8.79289 15.2071C9.5417 15.9559 10.1127 17.3564 10.4967 18.7292C10.6812 19.3884 10.81 19.9939 10.8927 20.4348C10.9339 20.6546 10.9633 20.8321 10.9822 20.953C10.9917 21.0134 10.9985 21.0596 11.0029 21.0899L11.0075 21.123L11.0085 21.1301L11.0086 21.1307C11.0086 21.1308 11.0086 21.1309 11.0086 21.131C11.0086 21.131 11.0086 21.131 11.0086 21.131C11.0743 21.6283 11.4983 22 12 22C12.5017 22 12.9257 21.6283 12.9914 21.131L12.9914 21.1307L12.9915 21.1301L12.9925 21.123L12.9971 21.0899C13.0015 21.0596 13.0083 21.0134 13.0178 20.953C13.0367 20.8321 13.0661 20.6546 13.1073 20.4348C13.19 19.9939 13.3188 19.3884 13.5033 18.7292C13.8873 17.3564 14.4583 15.9559 15.2071 15.2071C15.9559 14.4583 17.3564 13.8873 18.7292 13.5033C19.3884 13.3188 19.9939 13.19 20.4348 13.1073C20.6546 13.0661 20.8321 13.0367 20.953 13.0178C21.0134 13.0083 21.0596 13.0015 21.0899 12.9971L21.123 12.9925L21.1301 12.9915L21.1307 12.9914C21.1308 12.9914 21.1309 12.9914 21.131 12.9914C21.131 12.9914 21.131 12.9914 21.131 12.9914C21.6283 12.9257 22 12.5017 22 12C22 11.4983 21.6283 11.0743 21.131 11.0086L21.1307 11.0086L21.1301 11.0085L21.123 11.0075L21.0899 11.0029C21.0596 10.9985 21.0134 10.9917 20.953 10.9822C20.8321 10.9633 20.6546 10.9339 20.4348 10.8927C19.9939 10.81 19.3884 10.6812 18.7292 10.4967C17.3564 10.1127 15.9559 9.5417 15.2071 8.79289C14.4583 8.04408 13.8873 6.64363 13.5033 5.27082C13.3188 4.61161 13.19 4.00611 13.1073 3.56523C13.0661 3.34537 13.0367 3.16792 13.0178 3.04699C13.0083 2.98656 13.0015 2.94035 12.9971 2.91013L12.9925 2.87704L12.9915 2.86992L12.9914 2.86932C12.9914 2.86923 12.9914 2.86913 12.9914 2.86904ZM16.8722 12C15.7644 11.5928 14.6021 11.0163 13.7929 10.2071C12.9837 9.39792 12.4072 8.23564 12 7.12776C11.5928 8.23564 11.0163 9.39792 10.2071 10.2071C9.39792 11.0163 8.23564 11.5928 7.12776 12C8.23564 12.4072 9.39792 12.9837 10.2071 13.7929C11.0163 14.6021 11.5928 15.7644 12 16.8722C12.4072 15.7644 12.9837 14.6021 13.7929 13.7929C14.6021 12.9837 15.7644 12.4072 16.8722 12Z" fill="currentColor"/></svg>
                                        </div>
                                        <div class="absolute inset-0 flex items-center justify-center transition-all duration-300 ease-spring rotate-90 scale-0 opacity-0 group-[.input-mode]:rotate-0 group-[.input-mode]:scale-100 group-[.input-mode]:opacity-100">
                                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 3C12.2652 3 12.5196 3.10536 12.7071 3.29289L19.7071 10.2929C20.0976 10.6834 20.0976 11.3166 19.7071 11.7071C19.3166 12.0976 18.6834 12.0976 18.2929 11.7071L13 6.41421V20C13 20.5523 12.5523 21 12 21C11.4477 21 11 20.5523 11 20V6.41421L5.70711 11.7071C5.31658 12.0976 4.68342 12.0976 4.29289 11.7071C3.90237 11.3166 3.90237 10.6834 4.29289 10.2929L11.2929 3.29289C11.4804 3.10536 11.7348 3 12 3Z" stroke="currentColor" stroke-width=".5" fill="currentColor"/></svg> 
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="space-y-2">
                            <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider">Hashtags <span class="text-slate-400 normal-case font-normal">(JSON)</span></label>
                            <input id="hashtagsGfr" class="w-full p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl text-sm font-mono text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-slate-400 focus:border-transparent transition outline-none">
                        </div>
                        <div class="space-y-2">
                            <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider">Image Prompt</label>
                            <textarea id="imagePromptGfr" rows="3" class="w-full p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl text-sm font-mono text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-slate-400 focus:border-transparent transition outline-none resize-none"></textarea>
                        </div>
                    </div>
                    
                    <div class="h-16 sm:hidden"></div>
                </div>
            </div>

            <div class="w-full lg:w-1/3 xl:w-2/6 bg-slate-50 dark:bg-slate-950/50 border-l border-slate-200 dark:border-slate-800 flex flex-col h-full">
                
                <div class="shrink-0 px-6 py-4 flex items-center justify-between border-b border-slate-200 dark:border-slate-800/50">
                    <span class="text-xs font-bold text-slate-500 uppercase tracking-wider">Status</span>
                    <div id="taskStatusGfr" class="px-3 py-1 bg-slate-200 dark:bg-slate-800 rounded-full text-xs font-mono text-slate-700 dark:text-slate-300">Processing</div>
                </div>

                <div class="flex-1 p-6 flex flex-col items-center justify-center min-h-0 overflow-hidden">
                     <div id="imagePreviewGfr" class="w-full h-full max-h-full bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700 overflow-hidden relative shadow-sm group flex items-center justify-center">
                        <span class="text-slate-300 dark:text-slate-600 text-sm">Preview</span>
                    </div>
                </div>

                <div class="shrink-0 p-6 space-y-5 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800">
                    
                    <div class="grid grid-cols-2 gap-3">
                         <div class="space-y-1">
                            <label class="block text-[10px] font-bold text-slate-400 uppercase">Model</label>
                            <select id="geminiModelSelect" class="w-full p-2 bg-slate-50 dark:bg-slate-800 border-none rounded-lg text-xs font-medium text-slate-700 dark:text-slate-300 focus:ring-1 focus:ring-slate-400">
                                <option value="gemini-2.5-flash-image">Gemini 2.5 Flash</option>
                                <option value="gemini-3-pro-image-preview">Gemini 3 Pro</option>
                            </select>
                        </div>
                         <div class="space-y-1">
                            <label class="block text-[10px] font-bold text-slate-400 uppercase">Watermark</label>
                            <select id="watermarkPos" class="w-full p-2 bg-slate-50 dark:bg-slate-800 border-none rounded-lg text-xs font-medium text-slate-700 dark:text-slate-300 focus:ring-1 focus:ring-slate-400">
                                <option value="">None</option>
                                <option value="bottom-right">Bottom Right</option>
                                <option value="bottom-left">Bottom Left</option>
                                <option value="top-left">Top Left</option>
                                <option value="top-right">Top Right</option>
                            </select>
                        </div>
                    </div>

                    <div class="flex flex-col gap-3 pt-2">
                        <div class="flex gap-2 w-full">
                            <button id="btnSaveGfr" class="flex-1 bg-slate-900 hover:bg-black text-white px-4 py-3 rounded-xl text-sm font-bold transition-all shadow-lg hover:shadow-xl active:scale-95">
                                Save
                            </button>
                            <button id="btnRegenGfr" class="hidden flex-1 border border-slate-300 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-700 dark:text-slate-200 px-4 py-3 rounded-xl text-sm font-semibold transition-all">
                                Generate
                            </button>
                             <button id="btnDeleteGfr" class="px-4 py-3 text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all" title="Delete Draft">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>
                            </button>
                        </div>
                        
                        <button id="btnApproveMobileGfr" class="sm:hidden w-full flex items-center justify-center bg-emerald-600 text-white px-4 py-3 rounded-xl text-sm font-bold shadow-md">
                            Approve Draft
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div id="noti-capsule" class="fixed top-8 left-1/2 -translate-x-1/2 z-50 flex items-center bg-white border border-gray-200 rounded-full shadow-2xl shadow-black/50 opacity-0 -translate-y-10 transition-all duration-500 ease-elastic pointer-events-none">
  <div class="relative w-12 h-12 flex items-center justify-center shrink-0">
      <div id="noti-icon" class="text-gray-800"></div>
  </div>
  <div id="noti-text-wrapper" class="overflow-hidden max-w-0 opacity-0 transition-all duration-500 ease-smooth">
      <div id="noti-message" class="pr-6 pl-1 text-sm font-semibold whitespace-nowrap text-gray-800">
      </div>
  </div>
</div>


<div id="modalOverlayMnl" class="fixed inset-0 bg-black/60 hidden z-50 transition-opacity duration-300 opacity-0 flex items-center justify-center">
    
    <div id="modalContentMnl" class="bg-white w-full max-w-7xl h-[95vh] rounded-2xl shadow-2xl transform scale-90 transition-all duration-300 flex flex-col overflow-hidden">
        
        <div class="px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-white z-20">
            <div class="flex items-center gap-4">
                <h2 class="text-xl font-bold text-gray-900">Create Post</h2>
            </div>
            <div class="flex items-center gap-3">
                <button class="flex items-center gap-2 text-sm font-medium text-indigo-600 bg-indigo-50 px-3 py-1.5 rounded-lg border border-indigo-100">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>
                    Preview
                </button>
                <button id="closeBtnMnl" class="p-2 ml-2 rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
        </div>
   
        <div class="flex flex-1 overflow-hidden bg-white">
            
            <div class="w-7/12 flex flex-col border-r border-gray-100 overflow-y-auto custom-scrollbar">
                
                <div class="p-6 pb-2">
                    <div class="flex items-start gap-4 mb-6">
                        <div class="relative">
                            <div id="UserDpLg" class="w-12 h-12 rounded-full bg-gradient-to-tr from-yellow-400 to-pink-600 p-[2px]">
                                <img src="https://www.gravatar.com/avatar/0?d=mp" class="w-full h-full rounded-full border-2 border-white object-cover" alt="User">
                            </div>
                            <div id="activePlatformIcon" class="absolute -bottom-1 -right-1 bg-white rounded-full p-1 shadow-sm border border-gray-100">
                                <div class="w-4 h-4 bg-gray-200 rounded-full"></div> 
                            </div>
                        </div>

                        <div class="flex-1">
                            <div id="platform-selector" class="flex flex-wrap gap-2 mb-3"></div>
                            <div id="post-type-selector" class="flex gap-4 text-sm font-medium text-gray-600"></div>
                        </div>
                    </div>

                    <div class="border border-gray-200 rounded-xl shadow-sm focus-within:ring-0  transition-all">
                        <textarea id="captionMnl" name="caption" rows="6" 
                            class="w-full px-4 py-4 border-none text-gray-800 text-lg placeholder-gray-400 focus:outline-none resize-none rounded-t-xl bg-transparent"
                            placeholder="What's on your mind?"></textarea>

                        <div id="inputMediaPreview" class="px-4 hidden mb-4">
                            <div class="relative w-fit group">
                                <div id="inputMediaContainer" class="h-16 w-16 rounded-lg border border-gray-100 shadow-sm overflow-hidden bg-gray-50 flex items-center justify-center relative">
                                    <img id="inputMediaImg" src="" class="h-full w-full object-cover hidden">
                                    <video id="inputMediaVideo" src="" class="h-full w-full object-cover hidden"></video>
                                    
                                    <div id="mediaCountOverlay" class="absolute inset-0 bg-black/50 flex items-center justify-center text-white font-bold text-xs hidden">
                                        +0
                                    </div>
                                </div>

                                <button id="removeMediaBtn" class="absolute -top-2 -right-2 bg-gray-800 text-white rounded-full p-1 hover:bg-black shadow-md z-10">
                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                                </button>
                            </div>
                        </div>

                        <div class="relative flex items-center justify-between px-3 py-2 border-t border-gray-100 bg-gray-50/50 rounded-b-xl">
                            <div class="flex items-center gap-1">
                                <button class="p-2 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-full transition" title="Add Media" onclick="document.getElementById('fileInputMnl').click()">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                                </button>
                                
                                <button id="emojiBtnMnl" class="p-2 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-full transition relative" title="Add Emoji">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                </button>
                        
                                <button id="hashtagBtnMnl" class="p-2 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-full transition" title="Hashtags">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 20l4-16m2 16l4-16M6 9h14M4 15h14"></path></svg>
                                </button>
                            </div>
                            
                            <span id="charCountMnl" class="text-xs text-gray-400 font-mono bg-white border border-gray-200 px-2 py-1 rounded">0/2200</span>
                        
                            <div id="emojiPickerMnl" class="hidden absolute bottom-12 left-2 bg-white border border-gray-200 shadow-xl rounded-lg p-2 w-64 z-50">
                                <div class="grid grid-cols-6 gap-1 h-48 overflow-y-auto custom-scrollbar" id="emojiGridMnl">
                                    </div>
                            </div>
                        </div>
                    </div>
                </div>

                <input id="fileInputMnl" name="file" type="file" accept="image/*,video/*" multiple class="hidden" />
                <input type="hidden" id="hashtagsMnl" name="hashtags">
                <input type="hidden" id="notesMnl" name="notes">
                <input type="hidden" id="platformIdMnl" name="platform_id">
            </div>
   
            <div class="w-5/12 bg-gray-50 border-l border-gray-200 flex flex-col">
                <div class="p-2 border-b border-gray-200 bg-white/50 sticky top-0 z-10">
                    <h3 id="preview-title" class="text-gray-700 flex items-center gap-2">
                      Instagram Preview
                        <svg class="w-4 h-4 text-gray-400 ml-auto cursor-pointer" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    </h3>
                </div>
                
                <div class="flex-1 overflow-y-auto p-4 flex justify-center items-start">
                    <div id="previewMnl" class="w-full max-w-[380px] transition-all duration-300">
                        </div>
                </div>
            </div>
        </div>
   
        <div class="px-6 py-4 border-t border-gray-100 bg-white flex justify-between items-center z-20">
            <div class="flex items-center gap-4"></div>
            
            <div class="flex gap-0 shadow-sm rounded-lg">
                <button class="bg-white border border-gray-300 text-gray-700 px-4 py-2 text-sm font-medium rounded-l-lg hover:bg-gray-50 flex items-center gap-2">
                    Save as draft 
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </button>
                <button id="submitBtnMnl" class="bg-gray-900 text-white px-6 py-2 text-sm font-medium rounded-r-lg hover:bg-black transition shadow-sm">
                    Approve
                </button>
            </div>
        </div>
    </div>
</div>

<script>
  const content_library_prompts = {
      "Custom Option": "", 
      "Educational Post": "Describe the specific concept, skill, or quick hack you want to teach your audience today, and who the target is.",
      "Marketing Post": "Create a marketing post promoting [insert product/service name] by highlighting the main problem it solves and including a call to action.",
      "Motivational Post": "Generate a motivational post focused on the theme of [insert theme, e.g., resilience, consistency, starting over], and what feeling you want to inspire.",
      "Behind the Scenes (BTS) Post": "Design a post that gives a sneak peek into [describe the process, e.g., our team culture, how we develop our product, a typical day]. What's the main takeaway.",
      "User Generated Content (UGC) Showcase": "Draft a post celebrating a customer who used our product/service. Describe the user's success story and which specific product they used.",
      "Holiday/Seasonal Post": "Create a post recognizing the upcoming holiday/season: [insert holiday/season]. What is the connection to our brand, and what positive message should we convey?",
      "Ask Me Anything (AMA) / Q&A Post": "Formulate a post inviting questions from the audience about [insert topic, e.g., a new feature, industry trends, personal experience]. Clearly state the topic for the Q&A.",
      "Audience Poll/Feedback": "Create a poll or question-based post to get direct feedback on [insert topic, e.g., new product packaging, preferred content type, industry opinion]. What are the choices/options?",
      "Thought Leadership Post": "Develop a strong opinion or unique insight about a recent [industry trend/news item]. What is your contrarian view, and what advice follows from it?",
      "Industry News/Update": "Share a brief update on a recent and relevant piece of industry news. Explain why this news matters to your audience and what their next step should be.",
      "Case Study/Success Story": "Outline a detailed customer success story. Focus on the 'Before' (the problem), the 'During' (how your solution was used), and the 'After' (the measurable result).",
      "Product Feature Spotlight": "Highlight a single, powerful feature of your product: [feature name]. Describe the feature and the single biggest benefit it offers the user.",
      "Contest/Giveaway": "Draft a post announcing a contest or giveaway. Define the prize, the entry rules (e.g., Tag 3 friends, Follow, Share), and the end date.",
      "Flash Sale/Discount": "Write a time-sensitive post announcing a flash sale or discount. Specify the discount percentage, the product, and the expiration date/time."
  };
  const useCaseDisplayMapDrf = {
      "Custom Option": "Custom Idea", 
      "Educational Post": "Educational Post",
      "Marketing Post": "Marketing Post",
      "Motivational Post": "Motivational Post",
      "Behind the Scenes (BTS) Post": "Behind the Scenes (BTS)",
      "User Generated Content (UGC) Showcase": "UGC Showcase",
      "Holiday/Seasonal Post": "Seasonal Post",
      "Ask Me Anything (AMA) / Q&A Post": "AMA / Q&A",
      "Audience Poll/Feedback": "Audience Poll/Feedback",
      "Thought Leadership Post": "Thought Leadership",
      "Industry News/Update": "Industry News",
      "Case Study/Success Story": "Case Study / Success Story",
      "Product Feature Spotlight": "Feature Spotlight",
      "Contest/Giveaway": "Contest / Giveaway",
      "Flash Sale/Discount": "Flash Sale / Discount"
  };
  document.addEventListener('DOMContentLoaded', function() {
      const promptTextarea = document.getElementById('animatedPlaceholder');
      const prevBtn = document.getElementById('prevCaseBtnDrf');
      const nextBtn = document.getElementById('nextCaseBtnDrf');
      const displayText = document.getElementById('currentCaseTextDrf');
      
      const useCaseKeysDrf = Object.keys(content_library_prompts);
      const totalCasesDrf = useCaseKeysDrf.length;
      let currentCaseIndexDrf = 0; // Starts at Custom Option (index 0)
      const customPlaceholderDrf = "Describe your idea here... We'll handle the caption, hashtags, and visuals.";
      function updateCarouselDrf() {
          const currentKey = useCaseKeysDrf[currentCaseIndexDrf];
          displayText.textContent = useCaseDisplayMapDrf[currentKey];
          if (currentKey === "Custom Option") {
              promptTextarea.value = ''; 
              promptTextarea.placeholder = customPlaceholderDrf; 
          } else {
              promptTextarea.placeholder = ''; 
              promptTextarea.value = content_library_prompts[currentKey];
              promptTextarea.focus(); 
          }
      }

      // Event listener for Next button with Cycling Logic
      nextBtn.addEventListener('click', function() {
          currentCaseIndexDrf = (currentCaseIndexDrf + 1) % totalCasesDrf;
          updateCarouselDrf();
      });

      // Event listener for Previous button with Cycling Logic
      prevBtn.addEventListener('click', function() {
          currentCaseIndexDrf = (currentCaseIndexDrf - 1 + totalCasesDrf) % totalCasesDrf;
          updateCarouselDrf();
      });

      // Initialize the carousel on page load with the Custom Option (no focus)
      updateCarouselDrf();
  });
</script>


<script>
  const toolsMenu = document.getElementById('tools-menu');
  const inputContainer = document.getElementById('input-container');
  const mainBtn = document.getElementById('main-btn');
  const chatInput = document.getElementById('chat-input');
  


  let menuState = {
      menuOpen: false,
      inputMode: false
  };

  async function handleMainClick() {
    
      if (menuState.inputMode) {
          const userMessage = chatInput.value.trim();
          chatInput.value = "";
          resetToIdle();
          if (userMessage) {
              const captionForFormating = document.getElementById('captionGfr');
              const textToFormat = captionForFormating.value;
              captionForFormating.value = '';
              toggleLoading(`postCaption`, true, 'Updating Caption...');

              try {
                  const response = await fetch('/format-text', {
                      method: 'POST',
                      headers: {
                          'Content-Type': 'application/json',
                      },
                      body: JSON.stringify({
                          text: textToFormat.trim(),
                          custom_instruction: userMessage,
                      })
                  });

                  if (!response.ok) {
                      const errorText = await response.text();
                      throw new Error(`HTTP ${response.status}: ${response.statusText}\n${errorText}`);
                  }

                  const reader = response.body.getReader();
                  const decoder = new TextDecoder();
                  let isFirstChunk = true;

                  while (true) {
                      const { done, value } = await reader.read();
                      if (done) break;

                      const chunk = decoder.decode(value, { stream: true });

                      if (isFirstChunk) {
                          captionForFormating.value = ''; 
                          isFirstChunk = false;
                      }

                      captionForFormating.value += chunk;
                  }
              } catch (err) {
                  console.error("Streaming failed");
                  captionForFormating.value = "Formatting failed. Please try again.";
              }
              finally{
                toggleLoading(`postCaption`, false);

              }
              
          }


      } else {
          editToggleMenu();
      }
  }

  function editToggleMenu() {
    console.log("asd");
    menuState.menuOpen = !menuState.menuOpen;
      updateUI();
  }

  function activateInputMode() {
    menuState.menuOpen = false; 
    menuState.inputMode = true; 
      updateUI();

  }

  function resetToIdle() {
    menuState.menuOpen = false;
      menuState.inputMode = false;
      updateUI();
  }

  function updateUI() {
      if (menuState.menuOpen) {
          toolsMenu.classList.remove('opacity-0', 'scale-y-50', 'translate-y-10', 'pointer-events-none');
          mainBtn.classList.add('menu-open'); 
      } else {
          toolsMenu.classList.add('opacity-0', 'scale-y-50', 'translate-y-10', 'pointer-events-none');
          mainBtn.classList.remove('menu-open');
      }


      if (menuState.inputMode) {
          inputContainer.classList.remove('w-0', 'opacity-0');
          inputContainer.classList.add('w-auto', 'opacity-100');

          mainBtn.classList.add('input-mode');
      } else {
          inputContainer.classList.add('w-0', 'opacity-0');
          inputContainer.classList.remove('w-auto', 'opacity-100');

          mainBtn.classList.remove('input-mode');
      }
  }

  document.addEventListener('click', (e) => {
      const floatingContainer = document.querySelector('.absolute.bottom-4.right-4.flex');

      if (!floatingContainer.contains(e.target)) {
          if (menuState.inputMode || menuState.menuOpen) {
              if (menuState.inputMode) {
                  chatInput.value = "";
              }
              resetToIdle();
          }
      }
  });

  document.querySelector('.absolute.bottom-4.right-4.flex').addEventListener('click', (e) => {
      e.stopPropagation();
  });
</script>
<script>

  let selectedStyle = null;

  const confirmationModal = `
      <div id="confirm-modal" class="fixed inset-0 bg-black/30 flex items-center justify-center z-[100] hidden">
          <div class="bg-white rounded-3xl p-6 shadow-2xl max-w-md w-full mx-4 animate-in fade-in zoom-in duration-200">
              <h3 class="text-lg font-medium text-gray-800 mb-4">
                  Click cofirm to make the paragraph <span id="style-name" class="text-blue-600"></span>
              </h3>
              <div class="flex gap-3 justify-end mt-3">
                  <button id="cancel-style" class="px-5 py-2.5 bg-gray-100 hover:bg-gray-200 rounded-full font-medium transition">
                      Cancel
                  </button>
                  <button id="confirm-style" class="px-5 py-2.5 bg-gray-800 hover:bg-gray-700 text-white rounded-full font-medium transition">
                      Confirm
                  </button>
              </div>
          </div>
      </div>
  `;
  document.body.insertAdjacentHTML('beforeend', confirmationModal);

  const confirmModal = document.getElementById('confirm-modal');
  const styleNameEl = document.getElementById('style-name');

  document.querySelectorAll('#tools-menu button[name]').forEach(btn => {
      btn.addEventListener('click', (e) => {
          const style = btn.getAttribute('name'); 
          selectedStyle = style;

          styleNameEl.textContent = style;
          confirmModal.classList.remove('hidden');

          if (menuState.menuOpen) {
              menuState.menuOpen = false;
              updateUI();
          }
      });
  });

  document.getElementById('confirm-style').addEventListener('click', async () => {
    if (!selectedStyle) {
        closeModal();
        activateInputMode();
        return;
    }
    const captionForFormating = document.getElementById('captionGfr');
    const textToFormat = captionForFormating.value;
    
    if (!textToFormat.trim()) {
        closeModal();
        activateInputMode();
        return;
    }
    confirmModal.classList.add('hidden');
    activateInputMode();
    toggleLoading(`postCaption`, true, 'Updating Caption...');
    captionForFormating.value = '';

    try {
        const response = await fetch('/format-text', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                text: textToFormat.trim(),
                style: selectedStyle,
            })
        });

        if (!response.ok) {
            const errorText = await response.text();
            throw new Error(`HTTP ${response.status}: ${response.statusText}\n${errorText}`);
        }

        const reader = response.body.getReader();
        const decoder = new TextDecoder();
        let isFirstChunk = true;

        while (true) {
            const { done, value } = await reader.read();
            if (done) break;

            const chunk = decoder.decode(value, { stream: true });

            if (isFirstChunk) {
                captionForFormating.value = ''; // fully clean on first real chunk
                isFirstChunk = false;
            }

            captionForFormating.value += chunk;
        }

    } catch (err) {
        console.error("Streaming failed:", err);
        captionForFormating.value = "Error: Formatting failed. Please try again.";
    }
    finally{
      toggleLoading(`postCaption`, false);
    }
});

  document.getElementById('cancel-style').addEventListener('click', closeModal);

  confirmModal.addEventListener('click', (e) => {
      if (e.target === confirmModal) closeModal();
  });

  function closeModal() {
      console.log("closed");
      confirmModal.classList.add('hidden');
      selectedStyle = null;
  }

  function activateInputMode() {
      menuState.menuOpen = false;
      menuState.inputMode = true;
      updateUI();
      setTimeout(() => chatInput.focus(), 300); 
  }


</script>


<script>

  let animationTimeouts = [];

  const icons = {
    success: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#16a34a" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>`, 
    error: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#dc2626" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>`,  
    warning: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ca8a04" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>`,  
    info: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#2563eb" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>`  
};

  function ShowNoti(type, message) {
      const capsule = document.getElementById('noti-capsule');
      const iconContainer = document.getElementById('noti-icon');
      const textWrapper = document.getElementById('noti-text-wrapper');
      const messageEl = document.getElementById('noti-message');

 
      clearTimeouts();
      
      capsule.classList.add('opacity-0', '-translate-y-10');
      textWrapper.classList.add('max-w-0', 'opacity-0');
      setTimeout(() => {
          iconContainer.innerHTML = icons[type] || icons['info'];
          messageEl.textContent = message;

          capsule.classList.remove('opacity-0', '-translate-y-10');

          const t1 = setTimeout(() => {
              textWrapper.classList.remove('max-w-0', 'opacity-0');
              textWrapper.classList.add('max-w-[500px]', 'opacity-100'); 
          }, 400);

          const t2 = setTimeout(() => {
              textWrapper.classList.remove('max-w-[500px]', 'opacity-100');
              textWrapper.classList.add('max-w-0', 'opacity-0');
          }, 3000);

          const t3 = setTimeout(() => {
              capsule.classList.add('opacity-0', '-translate-y-10');
          }, 3500);

          animationTimeouts.push(t1, t2, t3);
      }, 50);
  }

  function clearTimeouts() {
      animationTimeouts.forEach(id => clearTimeout(id));
      animationTimeouts = [];
  }
</script>
<script>

</script>
<script src="/static/placeholderAnim.js" defer></script>
<script src="/static/Tabs.js" ></script>
<script src="/static/PostAi.js"></script>
<script src="/static/Approved.js"></script>
<script src="/static/ManualDraft.js"></script>
<script src="/static/Research.js"></script>
<script src="/static/Rephraser.js" ></script>
<script src="/static/Downloader.js" ></script>
<script src="/static/VideoForge.js" ></script>
</body>
</html>